import"../chunks/CWj6FrbW.js";import{s as j,o as er}from"../chunks/BpDpeONt.js";import{q as tr,u as z,g as l,i as zt,s as A,j as te,k as qt,t as n,f as je,m as s,l as r,n as e,o as k,r as t,v as Ge,ac as Ke,x as Fe,$ as rr,e as Ct,ap as $t}from"../chunks/BxrbYPPH.js";import{i as w}from"../chunks/C_-0o-f2.js";import{e as ne,i as ue}from"../chunks/n-s4RcA1.js";import{d as Pt,e as ar,r as St,h as sr}from"../chunks/DKpueC4a.js";import{s as or,r as lt,a as $}from"../chunks/BGk8CD_Q.js";import{b as He,a as ir}from"../chunks/vV7d1D-f.js";import{l as jt,p as Ae,s as lr,a as nr}from"../chunks/Cqu1rs7T.js";import{g as Lt,a as Rt,p as $e}from"../chunks/C6eE29Wt.js";import{g as Be}from"../chunks/CCryTnhq.js";import{p as cr}from"../chunks/DWKNoMgk.js";import{s as dr}from"../chunks/3os2E0c7.js";import"../chunks/69_IOA4Y.js";import{R as _r}from"../chunks/DgJjuvVc.js";import{B as vr}from"../chunks/CYBAZs4S.js";import{H as ur}from"../chunks/CATT0rBV.js";import{I as Oe}from"../chunks/BtboDQMP.js";import{M as Ie}from"../chunks/IkWuq9-R.js";import{T as pr}from"../chunks/DEe1oh43.js";import{P as mr,c as fr}from"../chunks/D_kLzBvZ.js";import{U as gr}from"../chunks/BJw5ooAH.js";import{S as br}from"../chunks/rGeCVgF5.js";import{s as re,c as it,b as Dt}from"../chunks/iREZRceN.js";import{c as pe}from"../chunks/Dcrl4MPd.js";import{o as Te}from"../chunks/Bxbzq6E6.js";var xr=tr('<svg><path d="M13.1202 17.0228L8.92129 14.7324C8.19135 15.5125 7.15261 16 6 16C3.79086 16 2 14.2091 2 12C2 9.79086 3.79086 8 6 8C7.15255 8 8.19125 8.48746 8.92118 9.26746L13.1202 6.97713C13.0417 6.66441 13 6.33707 13 6C13 3.79086 14.7909 2 17 2C19.2091 2 21 3.79086 21 6C21 8.20914 19.2091 10 17 10C15.8474 10 14.8087 9.51251 14.0787 8.73246L9.87977 11.0228C9.9583 11.3355 10 11.6629 10 12C10 12.3371 9.95831 12.6644 9.87981 12.9771L14.0788 15.2675C14.8087 14.4875 15.8474 14 17 14C19.2091 14 21 15.7909 21 18C21 20.2091 19.2091 22 17 22C14.7909 22 13 20.2091 13 18C13 17.6629 13.0417 17.3355 13.1202 17.0228ZM6 14C7.10457 14 8 13.1046 8 12C8 10.8954 7.10457 10 6 10C4.89543 10 4 10.8954 4 12C4 13.1046 4.89543 14 6 14ZM17 8C18.1046 8 19 7.10457 19 6C19 4.89543 18.1046 4 17 4C15.8954 4 15 4.89543 15 6C15 7.10457 15.8954 8 17 8ZM17 20C18.1046 20 19 19.1046 19 18C19 16.8954 18.1046 16 17 16C15.8954 16 15 16.8954 15 18C15 19.1046 15.8954 20 17 20Z"></path></svg>');function hr(M,d){const V=jt(d,["children","$$slots","$$events","$$legacy"]),ke=jt(V,["size","color","label","class"]);let K=Ae(d,"size",8,"1em"),P=Ae(d,"color",8,"currentColor"),ae=Ae(d,"label",8,""),p=Ae(d,"class",8,"");var m=xr();let o;z(()=>o=or(m,o,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:K(),height:K(),fill:P(),"aria-label":ae()?ae():void 0,"aria-hidden":ae()?void 0:"true",role:ae()?"img":void 0,class:`remixicon ri-share-line ${p()??""}`,...ke})),l(M,m)}const yr=(M,d,V)=>{d(!1),V()};var wr=n('<div class="w-full p-6"><h2 class="mb-1 text-xl font-bold text-gray-900"> </h2> <p class="mb-6 text-sm text-gray-500">커피챗을 통해 네트워킹하고 소통해보세요.</p> <form class="space-y-4"><div><label for="email" class="mb-2 block text-sm font-medium text-gray-700">이메일 주소</label> <input id="email" type="email" class="w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:border-blue-500 focus:ring-blue-500" placeholder="your-email@example.com" required> <p class="mt-1 text-xs text-gray-500">응답을 받을 이메일 주소를 입력해주세요.</p></div> <div><label for="subject" class="mb-2 block text-sm font-medium text-gray-700">커피챗 제목</label> <input id="subject" type="text" class="w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:border-blue-500 focus:ring-blue-500" placeholder="예: 마케팅 전략에 대해 이야기하고 싶어요" maxlength="100" required></div> <div><label for="content" class="mb-2 block text-sm font-medium text-gray-700">커피챗 내용</label> <textarea id="content" class="w-full resize-none rounded-lg border border-gray-300 px-3 py-2 outline-none focus:border-blue-500 focus:ring-blue-500" placeholder="어떤 주제로 대화하고 싶은지, 언제 만나고 싶은지 등을 자세히 적어주세요." rows="4" maxlength="1000" required></textarea> <div class="mt-1 flex justify-between text-xs text-gray-500"><span>구체적으로 작성할수록 좋은 응답을 받을 수 있어요.</span> <span> </span></div></div></form></div> <div class="flex"><button type="button" class="flex-1 py-3 text-gray-600 transition-colors hover:bg-gray-50">취소</button> <button type="button" class="flex-1 bg-blue-500 py-3 font-medium text-white transition-colors hover:bg-blue-600">커피챗 요청하기</button></div>',1);function kr(M,d){zt(d,!0);const V=Lt(),ke=Rt();let K=Ae(d,"isOpen",15),P=A(te({email:"",subject:"",content:""}));const ae=()=>{k(P,{email:"",subject:"",content:""},!0)},p=async()=>{if(!e(P).email.trim()){re("error","이메일 주소를 입력해주세요.");return}if(!e(P).subject.trim()){re("error","커피챗 제목을 입력해주세요.");return}if(!e(P).content.trim()){re("error","커피챗 내용을 입력해주세요.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e(P).email)){re("error","올바른 이메일 형식을 입력해주세요.");return}try{const o=await ke.coffee_chats.insert({sender_id:V.id,recipient_id:d.recipientUser.id,email:e(P).email,subject:e(P).subject,content:e(P).content,status:"pending"});try{await ke.notifications.insert({recipient_id:d.recipientUser.id,actor_id:V.id,type:"coffee_chat.requested",resource_type:"coffee_chat",resource_id:String(o.id),payload:{sender_id:V.id,sender_name:V.name,sender_handle:V.handle,subject:e(P).subject},link_url:`/@${d.recipientUser.handle}/accounts/coffee-chat`})}catch(ce){console.error("Failed to create coffee chat notification:",ce)}re("success","커피챗 요청이 성공적으로 전송되었습니다!"),K(!1),ae()}catch(o){console.error("Coffee chat request failed:",o),re("error","커피챗 요청 전송 중 오류가 발생했습니다.")}};Ie(M,{modal_position:"center",get is_modal_open(){return K()},set is_modal_open(m){K(m)},children:(m,o)=>{var ce=wr(),se=je(ce),me=r(se),Ne=r(me);t(me);var ze=s(me,4),U=r(ze),Ce=s(r(U),2);lt(Ce),Ge(2),t(U);var W=s(U,2),qe=s(r(W),2);lt(qe),t(W);var Pe=s(W,2),fe=s(r(Pe),2);St(fe);var Se=s(fe,2),Le=s(r(Se),2),T=r(Le);t(Le),t(Se),t(Pe),t(ze),t(se);var oe=s(se,2),H=r(oe);H.__click=[yr,K,ae];var Z=s(H,2);Z.__click=p,t(oe),z(()=>{j(Ne,`${d.recipientUser?.name||"사용자"}님께 커피챗 요청`),j(T,`${e(P).content.length??""}/1000`)}),ar("submit",ze,I=>{I.preventDefault(),p()}),He(Ce,()=>e(P).email,I=>e(P).email=I),He(qe,()=>e(P).subject,I=>e(P).subject=I),He(fe,()=>e(P).content,I=>e(P).content=I),l(m,ce)},$$slots:{default:!0}}),qt()}Pt(["click"]);var Cr=n('<meta name="description"> <meta property="og:type" content="profile"> <meta property="og:url"> <meta property="og:title" 프로필=""> <meta property="og:description"> <meta property="og:image"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="630"> <meta property="twitter:card" content="summary_large_image"> <meta property="twitter:url"> <meta property="twitter:title" 프로필=""> <meta property="twitter:description"> <meta property="twitter:image">',1),$r=n('<button class="flex items-center" aria-label="이전 페이지로 돌아가기"><!></button>'),jr=n('<div slot="left"><!></div>'),zr=n('<div slot="right"><button class="flex items-center"><!></button></div>'),qr=(M,d)=>d("followers"),Pr=(M,d)=>d("followings"),Sr=(M,d)=>e(d)?.handle&&Be(`/@${e(d).handle}/accounts/profile/modify`),Lr=(M,d)=>{Dt(`${window.location.origin}/@${e(d)?.handle||""}`,"링크가 복사되었습니다.")},Rr=n('<div class="mt-4 flex space-x-2"><button class="btn flex h-9 flex-1 items-center justify-center border-none bg-gray-100" aria-label="프로필 편집 페이지로 이동">프로필 편집</button> <button class="btn flex h-9 flex-1 items-center justify-center border-none bg-gray-100" aria-label="프로필 링크 복사하기">프로필 공유</button></div>'),Dr=n('<button class="btn flex h-9 flex-1 items-center justify-center">팔로잉</button>'),Mr=n('<button class="btn btn-primary flex h-9 flex-1 items-center justify-center">팔로우</button>'),Ur=(M,d)=>{Dt(`${window.location.origin}/@${e(d)?.handle||""}`,"링크가 복사되었습니다.")},Fr=n('<div class="mt-4 flex space-x-2"><!> <button class="btn flex h-9 flex-1 items-center justify-center border-none bg-gray-100">커피챗</button> <button class="flex h-9 w-9 items-center justify-center rounded-lg bg-gray-100 min-w-[44px] min-h-[44px]" aria-label="프로필 링크 공유하기"><!></button></div>'),Or=n('<div class="flex justify-center py-12"><span class="loading loading-spinner loading-lg text-primary"></span></div>'),Ar=n('<div class="mt-4"><!></div>'),Br=(M,d)=>Be(`/@${e(d).post.users.handle}/post/${e(d).post.id}`),Zr=n('<button class="mt-1 text-xs text-blue-600 hover:underline" aria-label="원본 게시글 보기">게시글 보기 →</button>'),Er=n('<div class="mb-3 rounded bg-gray-50 p-3"><p class="line-clamp-2 overflow-hidden text-sm font-medium text-ellipsis" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;"> </p> <!></div>'),Kr=n('<div class="mt-2 ml-4 border-l-2 border-gray-200 pl-3"><p class="mb-1 text-xs text-gray-500">답글:</p> <p class="text-sm text-gray-600"> </p></div>'),Tr=n('<div class="mt-2 inline-flex items-center rounded-full bg-yellow-100 px-2 py-1"><!> <span class="ml-1 text-xs font-medium text-yellow-800"> </span></div>'),Gr=n('<div class="rounded-lg border border-gray-200 bg-white p-4"><!> <div class="flex items-start space-x-3"><img class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32"> <div class="flex-1"><div class="flex items-center space-x-2"><p class="text-sm font-medium"> </p> <span class="text-xs text-gray-500"> </span></div> <!> <p class="mt-2 text-sm whitespace-pre-wrap"> </p> <!></div></div></div>'),Hr=n('<div class="mx-4 mt-4 space-y-3"></div>'),Ir=n('<div class="mt-4 grid grid-cols-2 gap-4 px-4"></div>'),Nr=(M,d)=>Be(`/expert-request/${e(d).request.id}`),Vr=n('<div class="mb-3 rounded bg-emerald-50 p-3"><p class="mb-1 text-xs text-emerald-700">전문가 요청 리뷰</p> <p class="text-sm font-medium text-gray-900"> </p> <button class="mt-1 text-xs text-emerald-600 hover:underline" aria-label="전문가 요청 상세보기">요청 보기 →</button></div>'),Jr=n('<img class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),Qr=n('<img alt="익명 사용자의 기본 프로필 사진" class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),Wr=n('<p class="text-sm font-medium"> </p>'),Xr=n('<p class="text-sm font-medium">익명 사용자</p>'),Yr=n('<h3 class="mt-2 text-sm font-medium"> </h3>'),ea=n('<div class="rounded-lg border border-gray-200 bg-white p-4"><!> <div class="flex items-start space-x-3"><!> <div class="flex-1"><div class="flex items-center justify-between"><div class="flex items-center space-x-2"><!> <div class="flex items-center"></div></div> <span class="text-xs text-gray-500"> </span></div> <!> <p class="mt-1 text-sm whitespace-pre-wrap text-gray-700"> </p></div></div></div>'),ta=(M,d)=>Be(`/service/${e(d).service.id}`),ra=n('<div class="mb-3 rounded bg-blue-50 p-3"><p class="mb-1 text-xs text-blue-700">서비스 리뷰</p> <p class="text-sm font-medium text-gray-900"> </p> <button class="mt-1 text-xs text-blue-600 hover:underline" aria-label="서비스 상세보기">서비스 보기 →</button></div>'),aa=n('<img class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),sa=n('<img alt="익명 사용자의 기본 프로필 사진" class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),oa=n('<p class="text-sm font-medium"> </p>'),ia=n('<p class="text-sm font-medium">익명 사용자</p>'),la=n('<h3 class="mt-2 text-sm font-medium"> </h3>'),na=n('<div class="rounded-lg border border-gray-200 bg-white p-4"><!> <div class="flex items-start space-x-3"><!> <div class="flex-1"><div class="flex items-center justify-between"><div class="flex items-center space-x-2"><!> <div class="flex items-center"></div></div> <span class="text-xs text-gray-500"> </span></div> <!> <p class="mt-1 text-sm whitespace-pre-wrap text-gray-700"> </p></div></div></div>'),ca=n('<div class="mx-4 mt-4 space-y-3"><!> <!></div>'),da=n("<p>작성한 게시글이 없습니다.</p>"),_a=n("<p>작성한 댓글이 없습니다.</p>"),va=n("<p>등록한 서비스가 없습니다.</p>"),ua=n("<p>받은 리뷰가 없습니다.</p>"),pa=n('<div class="mx-4 mt-8 text-center text-gray-500"><!></div>'),ma=(M,d)=>d.report=!0,fa=n('<div class="flex flex-col items-center bg-gray-100 p-4 text-sm font-medium"><button class="flex w-full flex-col items-center rounded-lg bg-white" aria-label="사용자 신고하기"><div class="flex w-full items-center gap-2 p-3"><!> <p class="text-red-500">신고하기</p></div></button></div>'),ga=n('<label class="flex items-center"><input type="radio" name="report_reason" class="radio radio-primary radio-xs"> <span class="ml-2"> </span></label>'),ba=(M,d)=>d.report=!1,xa=n('<div class="p-4"><h2 class="text-lg font-bold">무엇을 신고하시나요?</h2> <p class="mt-1 text-sm text-gray-500">커뮤니티 가이드라인에 어긋나는 내용을 알려주세요.</p> <div class="mt-4 space-y-2"></div> <textarea class="textarea textarea-bordered focus:border-primary mt-4 w-full focus:outline-none" placeholder="상세 내용을 입력해주세요. (선택 사항)" rows="3"></textarea></div> <div class="flex"><button class="btn w-1/3 rounded-none" aria-label="신고 취소">취소</button> <button class="btn btn-primary w-2/3 rounded-none" aria-label="신고 제출하기">제출</button></div>',1),ha=n('<p class="py-8 text-center text-gray-500">아직 유저가 없습니다.</p>'),ya=n('<div class="p-4"><h2 class="mb-4 text-lg font-bold"> </h2> <!></div>'),wa=n('<!> <main><section class="px-4"><div class="flex items-start"><div class="mr-4"><img class="block aspect-square h-14 w-14 rounded-full object-cover" loading="eager" width="56" height="56"></div> <div class="flex-1"><h2 class="text-sm text-gray-500"> </h2> <h1 class="mt-1 text-lg font-semibold"> </h1></div></div> <div class="mt-4 flex items-center space-x-4"><button class="cursor-pointer min-h-[44px] py-2"><span class="font-medium"> </span> <span class="text-sm text-gray-500">팔로워</span></button> <button class="cursor-pointer min-h-[44px] py-2"><span class="font-medium"> </span> <span class="text-sm text-gray-500">팔로잉</span></button></div> <p class="mt-4 text-sm whitespace-pre-wrap"> </p> <!></section> <div class="mt-6"><!></div> <!></main> <!> <!> <!> <!> <!>',1);function Ja(M,d){zt(d,!0);const[V,ke]=lr(),K=()=>nr(cr,"$page",V),P=[],ae=["스팸/광고성 유저입니다.","욕설/혐오 발언을 사용했습니다.","선정적인 내용을 포함하고 있습니다.","잘못된 정보를 포함하고 있습니다.","기타"],p=Lt(),m=Rt();let o=Fe(()=>d.data.user),ce=Fe(()=>d.data.posts),se=A(0),me=A(0);Ke(()=>{!e(o)?.id||!m?.user_follows||Ne(e(o).id)});const Ne=async a=>{if(m?.user_follows)try{const[u,_]=await Promise.all([m.user_follows.get_follower_count(a),m.user_follows.get_following_count(a)]);k(se,u,!0),k(me,_,!0)}catch(u){console.error("Failed to load follow counts:",u)}};let ze=["게시글","댓글","서비스","받은리뷰"],U=A(0),Ce=A(!1),W=A(te([])),qe=A(te([])),Pe=A(te([])),fe=A(te([])),Se=A(te([])),Le=A(te([])),T=Fe(()=>({posts:e(W),post_comments:e(qe),services:e(Pe),service_likes:e(fe),service_reviews:e(Se),expert_request_reviews:e(Le)}));Ke(()=>{e(ce)&&e(ce).length>0&&k(W,e(ce),!0)});let oe=A(!1),H=te({reason:"",details:""}),Z=te({user_config:!1,report:!1,coffee_chat:!1}),I=A(!1),nt=A("followers"),Ze=A(te([]));er(async()=>{p?.id&&k(oe,await m.user_follows.is_following(p.id,e(o).id),!0)});const ct=async()=>{if(it(p)){if(e(oe))await m.user_follows.unfollow(p.id,e(o).id),p.user_follows=p.user_follows.filter(a=>a.following_id!==e(o).id),$t(se,-1);else{await m.user_follows.follow(p.id,e(o).id),p.user_follows.push({following_id:e(o).id}),$t(se);try{await m.notifications.insert({recipient_id:e(o).id,actor_id:p.id,type:"follow.created",resource_type:"user",resource_id:String(p.id),payload:{follower_id:p.id,follower_handle:p.handle},link_url:`/@${p.handle}`})}catch(a){console.error("Failed to insert notification (follow.created):",a)}}k(oe,!e(oe)),re("success","팔로잉 상태가 변경되었습니다.")}},Mt=async()=>{if(H.reason===""){re("error","신고 사유를 선택해주세요.");return}try{await m.user_reports.insert({reporter_id:p.id,user_id:e(o).id,reason:H.reason,details:H.details}),re("success","신고가 정상적으로 접수되었습니다.")}catch(a){console.error("Failed to submit report:",a),re("error","신고 접수 중 오류가 발생했습니다.")}finally{Z.report=!1,Z.user_config=!1,H.reason="",H.details=""}},Ut=async a=>{if(!p?.id||a.length===0)return a;try{const u=a.map(g=>g.id),[_,f]=await Promise.all([m.post_votes.select_by_post_ids(p.id,u),m.post_bookmarks.select_by_post_ids(p.id,u)]);return a.map(g=>({...g,post_votes:_.filter(h=>h.post_id===g.id),post_bookmarks:f.filter(h=>h.post_id===g.id)}))}catch(u){return console.error("Failed to attach user interactions:",u),a}},dt=async a=>{if(m?.posts){k(Ce,!0);try{if(a===0){if(e(W).length>0)return;const u=await m.posts.select_by_user_id(e(o).id);k(W,await Ut(u),!0)}else if(a===1)k(qe,await m.post_comments.select_by_user_id(e(o).id),!0);else if(a===2)k(Pe,await m.services.select_by_user_id(e(o).id),!0),k(fe,await m.service_likes.select_by_user_id(e(o).id),!0);else if(a===3){const[u,_]=await Promise.all([m.service_reviews.select_by_service_author_id(e(o).id),m.expert_request_reviews.select_by_expert_id(e(o).id)]);k(Se,u,!0),k(Le,_,!0)}}finally{k(Ce,!1)}}};Ke(()=>{m?.posts&&dt(e(U))});const Ft=async({gift_content:a,gift_moon_point:u,parent_comment_id:_,post_id:f})=>{await m.post_comments.insert({post_id:f,user_id:p.id,content:a,parent_comment_id:_,gift_moon_point:u})},{handle_bookmark_changed:Ot,handle_vote_changed:At}=fr(()=>e(W),a=>{k(W,a,!0)},p),Bt=({service_id:a,likes:u})=>{k(fe,u,!0)},_t=async a=>{k(nt,a,!0),k(I,!0),a==="followers"?k(Ze,await m.user_follows.select_followers(e(o).id),!0):k(Ze,await m.user_follows.select_followings(e(o).id),!0)};let vt=A(null);Ke(()=>{e(o)?.id&&e(o).id!==e(vt)&&(k(vt,e(o).id,!0),k(U,0),dt(0),p?.id&&m.user_follows.is_following(p.id,e(o).id).then(a=>{k(oe,a,!0)}),k(I,!1))});var ut=wa();sr(a=>{var u=Cr(),_=je(u),f=s(_,4);$(f,"content",typeof window<"u"?window.location.href:"");var g=s(f,2),h=s(g,2),S=s(h,2),B=s(S,8);$(B,"content",typeof window<"u"?window.location.href:"");var b=s(B,2),x=s(b,2),E=s(x,2);z(()=>{rr.title=`${e(o)?.name||"사용자"}의 프로필 | 문`,$(_,"content",e(o)?.self_introduction||`${e(o)?.name||"사용자"}의 프로필입니다. 게시글, 댓글, 서비스, 리뷰를 확인하고 팔로우하세요.`),$(g,"content",`${e(o)?.name||"사용자"}의`),$(h,"content",e(o)?.self_introduction||`${e(o)?.name||"사용자"}의 프로필입니다. 게시글, 댓글, 서비스, 리뷰를 확인하고 팔로우하세요.`),$(S,"content",e(o)?.avatar_url||$e),$(b,"content",`${e(o)?.name||"사용자"}의`),$(x,"content",e(o)?.self_introduction||`${e(o)?.name||"사용자"}의 프로필입니다. 게시글, 댓글, 서비스, 리뷰를 확인하고 팔로우하세요.`),$(E,"content",e(o)?.avatar_url||$e)}),l(a,u)});var pt=je(ut);ur(pt,{$$slots:{left:(a,u)=>{var _=jr(),f=r(_);{var g=h=>{var S=$r();S.__click=function(...b){dr?.apply(this,b)};var B=r(S);_r(B,{size:28,get color(){return pe.gray[600]}}),t(S),l(h,S)};w(f,h=>{K().params.handle!==p?.handle&&h(g)})}t(_),l(a,_)},right:(a,u)=>{var _=zr(),f=r(_);f.__click=()=>{it(p)&&(K().params.handle!==p?.handle?Z.user_config=!0:Be(`/@${p?.handle}/accounts`))};var g=r(f);Oe(g,{attribute:"menu",size:24,get color(){return pe.gray[600]}}),t(f),t(_),z(()=>$(f,"aria-label",K().params.handle!==p?.handle?"사용자 메뉴 열기":"계정 설정 열기")),l(a,_)}}});var Ve=s(pt,2),Je=r(Ve),Qe=r(Je),We=r(Qe),mt=r(We);t(We);var ft=s(We,2),Xe=r(ft),Zt=r(Xe);t(Xe);var gt=s(Xe,2),Et=r(gt,!0);t(gt),t(ft),t(Qe);var Ye=s(Qe,2),Re=r(Ye);Re.__click=[qr,_t];var bt=r(Re),Kt=r(bt,!0);t(bt),Ge(2),t(Re);var Ee=s(Re,2);Ee.__click=[Pr,_t];var xt=r(Ee),Tt=r(xt,!0);t(xt),Ge(2),t(Ee),t(Ye);var et=s(Ye,2),Gt=r(et,!0);t(et);var Ht=s(et,2);{var It=a=>{var u=Rr(),_=r(u);_.__click=[Sr,o];var f=s(_,2);f.__click=[Lr,o],t(u),l(a,u)},Nt=a=>{var u=Fr(),_=r(u);{var f=b=>{var x=Dr();x.__click=ct,z(()=>$(x,"aria-label",`${e(o)?.name??""}님 팔로우 취소`)),l(b,x)},g=b=>{var x=Mr();x.__click=ct,z(()=>$(x,"aria-label",`${e(o)?.name??""}님 팔로우하기`)),l(b,x)};w(_,b=>{e(oe)?b(f):b(g,!1)})}var h=s(_,2);h.__click=()=>{it(p)&&(Z.coffee_chat=!0)};var S=s(h,2);S.__click=[Ur,o];var B=r(S);hr(B,{}),t(S),t(u),z(()=>$(h,"aria-label",`${e(o)?.name??""}님에게 커피챗 신청하기`)),l(a,u)};w(Ht,a=>{K().params.handle===p?.handle?a(It):a(Nt,!1)})}t(Je);var tt=s(Je,2),Vt=r(tt);pr(Vt,{tabs:ze,get selected(){return e(U)},set selected(a){k(U,a,!0)}}),t(tt);var Jt=s(tt,2);{var Qt=a=>{var u=Or();l(a,u)},Wt=(a,u)=>{{var _=g=>{var h=Ct(),S=je(h);ne(S,17,()=>e(T).posts,ue,(B,b)=>{var x=Ar(),E=r(x);mr(E,{get post(){return e(b)},onGiftCommentAdded:Ft,onBookmarkChanged:Ot,onVoteChanged:At}),t(x),l(B,x)}),l(g,h)},f=(g,h)=>{{var S=b=>{var x=Hr();ne(x,21,()=>e(T).post_comments,ue,(E,L)=>{var D=Gr(),J=r(D);{var X=y=>{var C=Er(),R=r(C),O=r(R,!0);t(R);var ie=s(R,2);{var De=le=>{var ve=Zr();ve.__click=[Br,L],l(le,ve)};w(ie,le=>{e(L).post?.users?.handle&&le(De)})}t(C),z(()=>j(O,e(L).post.title||e(L).post.content)),l(y,C)};w(J,y=>{e(L).post&&y(X)})}var de=s(J,2),N=r(de),Y=s(N,2),_e=r(Y),ge=r(_e),be=r(ge);t(ge);var v=s(ge,2),G=r(v,!0);t(v),t(_e);var ee=s(_e,2);{var xe=y=>{var C=Kr(),R=s(r(C),2),O=r(R);t(R),t(C),z(()=>j(O,`@${e(L).parent_comment.users?.handle||"unknown"}:
										${e(L).parent_comment.content??""}`)),l(y,C)};w(ee,y=>{e(L).parent_comment&&y(xe)})}var F=s(ee,2),Q=r(F,!0);t(F);var he=s(F,2);{var ye=y=>{var C=Tr(),R=r(C);Oe(R,{attribute:"gift",size:14,get color(){return pe.warning}});var O=s(R,2),ie=r(O);t(O),t(C),z(()=>j(ie,`${e(L).gift_moon_point??""} 문 선물`)),l(y,C)};w(he,y=>{e(L).gift_moon_point>0&&y(ye)})}t(Y),t(de),t(D),z((y,C)=>{$(N,"src",y),$(N,"alt",`${e(o).name??""}님의 프로필 사진`),j(be,`@${e(o)?.handle??"unknown"??""}`),j(G,C),j(Q,e(L).content)},[()=>Te(e(o).avatar_url)||$e,()=>new Date(e(L).created_at).toLocaleDateString("ko-KR")]),l(E,D)}),t(x),l(b,x)},B=(b,x)=>{{var E=D=>{var J=Ir();ne(J,21,()=>e(T).services,X=>X.id,(X,de)=>{br(X,{get service(){return e(de)},get service_likes(){return e(T).service_likes},onLikeChanged:Bt})}),t(J),l(D,J)},L=(D,J)=>{{var X=N=>{var Y=ca(),_e=r(Y);ne(_e,17,()=>e(T).expert_request_reviews,ue,(be,v)=>{var G=ea(),ee=r(G);{var xe=i=>{var c=Vr(),q=s(r(c),2),we=r(q,!0);t(q);var ot=s(q,2);ot.__click=[Nr,v],t(c),z(()=>j(we,e(v).request.title||"제목 없음")),l(i,c)};w(ee,i=>{e(v).request&&i(xe)})}var F=s(ee,2),Q=r(F);{var he=i=>{var c=Jr();z(q=>{$(c,"src",q),$(c,"alt",`${e(v).reviewer.name||"익명 사용자"}님의 프로필 사진`)},[()=>Te(e(v).reviewer.avatar_url)]),l(i,c)},ye=i=>{var c=Qr();$(c,"src",$e),l(i,c)};w(Q,i=>{e(v).reviewer?.avatar_url?i(he):i(ye,!1)})}var y=s(Q,2),C=r(y),R=r(C),O=r(R);{var ie=i=>{var c=Wr(),q=r(c);t(c),z(()=>j(q,`@${e(v).reviewer.handle??""}`)),l(i,c)},De=i=>{var c=Xr();l(i,c)};w(O,i=>{e(v).reviewer?.handle?i(ie):i(De,!1)})}var le=s(O,2);ne(le,20,()=>Array(5),ue,(i,c,q)=>{const we=Fe(()=>q<e(v).rating?pe.primary:pe.gray[300]);Oe(i,{attribute:"star",size:14,get color(){return e(we)}})}),t(le),t(R);var ve=s(R,2),rt=r(ve,!0);t(ve),t(C);var Me=s(C,2);{var at=i=>{var c=Yr(),q=r(c,!0);t(c),z(()=>j(q,e(v).title)),l(i,c)};w(Me,i=>{e(v).title&&i(at)})}var Ue=s(Me,2),st=r(Ue,!0);t(Ue),t(y),t(F),t(G),z(i=>{j(rt,i),j(st,e(v).content)},[()=>new Date(e(v).created_at).toLocaleDateString("ko-KR")]),l(be,G)});var ge=s(_e,2);ne(ge,17,()=>e(T).service_reviews,ue,(be,v)=>{var G=na(),ee=r(G);{var xe=i=>{var c=ra(),q=s(r(c),2),we=r(q,!0);t(q);var ot=s(q,2);ot.__click=[ta,v],t(c),z(()=>j(we,e(v).service.title||"제목 없음")),l(i,c)};w(ee,i=>{e(v).service&&i(xe)})}var F=s(ee,2),Q=r(F);{var he=i=>{var c=aa();z(q=>{$(c,"src",q),$(c,"alt",`${e(v).reviewer.name||"익명 사용자"}님의 프로필 사진`)},[()=>Te(e(v).reviewer.avatar_url)]),l(i,c)},ye=i=>{var c=sa();$(c,"src",$e),l(i,c)};w(Q,i=>{e(v).reviewer?.avatar_url?i(he):i(ye,!1)})}var y=s(Q,2),C=r(y),R=r(C),O=r(R);{var ie=i=>{var c=oa(),q=r(c);t(c),z(()=>j(q,`@${e(v).reviewer.handle??""}`)),l(i,c)},De=i=>{var c=ia();l(i,c)};w(O,i=>{e(v).reviewer?.handle?i(ie):i(De,!1)})}var le=s(O,2);ne(le,20,()=>Array(5),ue,(i,c,q)=>{const we=Fe(()=>q<e(v).rating?pe.primary:pe.gray[300]);Oe(i,{attribute:"star",size:14,get color(){return e(we)}})}),t(le),t(R);var ve=s(R,2),rt=r(ve,!0);t(ve),t(C);var Me=s(C,2);{var at=i=>{var c=la(),q=r(c,!0);t(c),z(()=>j(q,e(v).title)),l(i,c)};w(Me,i=>{e(v).title&&i(at)})}var Ue=s(Me,2),st=r(Ue,!0);t(Ue),t(y),t(F),t(G),z(i=>{j(rt,i),j(st,e(v).content)},[()=>new Date(e(v).created_at).toLocaleDateString("ko-KR")]),l(be,G)}),t(Y),l(N,Y)},de=N=>{var Y=pa(),_e=r(Y);{var ge=v=>{var G=da();l(v,G)},be=(v,G)=>{{var ee=F=>{var Q=_a();l(F,Q)},xe=(F,Q)=>{{var he=y=>{var C=va();l(y,C)},ye=(y,C)=>{{var R=O=>{var ie=ua();l(O,ie)};w(y,O=>{e(U)===3&&O(R)},C)}};w(F,y=>{e(U)===2?y(he):y(ye,!1)},Q)}};w(v,F=>{e(U)===1?F(ee):F(xe,!1)},G)}};w(_e,v=>{e(U)===0?v(ge):v(be,!1)})}t(Y),l(N,Y)};w(D,N=>{e(U)===3&&(e(T).service_reviews.length>0||e(T).expert_request_reviews.length>0)?N(X):N(de,!1)},J)}};w(b,D=>{e(U)===2&&e(T).services.length>0?D(E):D(L,!1)},x)}};w(g,b=>{e(U)===1&&e(T).post_comments.length>0?b(S):b(B,!1)},h)}};w(a,g=>{e(U)===0&&e(T).posts.length>0?g(_):g(f,!1)},u)}};w(Jt,a=>{e(Ce)?a(Qt):a(Wt,!1)})}t(Ve);var ht=s(Ve,2);{var Xt=a=>{vr(a,{})};w(ht,a=>{K().params.handle===p?.handle&&a(Xt)})}var yt=s(ht,2);Ie(yt,{modal_position:"bottom",get is_modal_open(){return Z.user_config},set is_modal_open(a){Z.user_config=a},children:(a,u)=>{var _=fa(),f=r(_);f.__click=[ma,Z];var g=r(f),h=r(g);Oe(h,{attribute:"exclamation",size:24,get color(){return pe.warning}}),Ge(2),t(g),t(f),t(_),l(a,_)},$$slots:{default:!0}});var wt=s(yt,2);Ie(wt,{modal_position:"center",get is_modal_open(){return Z.report},set is_modal_open(a){Z.report=a},children:(a,u)=>{var _=xa(),f=je(_),g=s(r(f),4);ne(g,21,()=>ae,ue,(x,E)=>{var L=ga(),D=r(L);lt(D);var J,X=s(D,2),de=r(X,!0);t(X),t(L),z(()=>{J!==(J=e(E))&&(D.value=(D.__value=e(E))??""),j(de,e(E))}),ir(P,[],D,()=>(e(E),H.reason),N=>H.reason=N),l(x,L)}),t(g);var h=s(g,2);St(h),t(f);var S=s(f,2),B=r(S);B.__click=[ba,Z];var b=s(B,2);b.__click=Mt,t(S),He(h,()=>H.details,x=>H.details=x),l(a,_)},$$slots:{default:!0}});var kt=s(wt,2);Ie(kt,{modal_position:"center",get is_modal_open(){return e(I)},set is_modal_open(a){k(I,a,!0)},children:(a,u)=>{var _=ya(),f=r(_),g=r(f,!0);t(f);var h=s(f,2);{var S=b=>{var x=ha();l(b,x)},B=b=>{var x=Ct(),E=je(x);ne(E,17,()=>e(Ze),ue,(L,D)=>{gr(L,{get profile(){return e(D).user}})}),l(b,x)};w(h,b=>{e(Ze).length===0?b(S):b(B,!1)})}t(_),z(()=>j(g,e(nt)==="followers"?"팔로워":"팔로잉")),l(a,_)},$$slots:{default:!0}});var Yt=s(kt,2);kr(Yt,{get recipientUser(){return e(o)},get isOpen(){return Z.coffee_chat},set isOpen(a){Z.coffee_chat=a}}),z(a=>{$(mt,"src",a),$(mt,"alt",`${e(o)?.name||"사용자"}님의 프로필 사진`),j(Zt,`@${e(o)?.handle??"loading..."??""}`),j(Et,e(o)?.name??"Loading..."),$(Re,"aria-label",`${e(se)??""}명의 팔로워 보기`),j(Kt,e(se)),$(Ee,"aria-label",`${e(me)??""}명의 팔로잉 보기`),j(Tt,e(me)),j(Gt,e(o)?.self_introduction||"")},[()=>Te(e(o)?.avatar_url)||$e]),l(M,ut),qt(),ke()}Pt(["click"]);export{Ja as component};
