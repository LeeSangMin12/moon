import{Z as S,E as L,aO as M,aP as P,O as U,aQ as q,aR as z,aS as Q,aM as j,R as y,A as T,aT as x,aU as I,aV as G,Q as K}from"./BxrbYPPH.js";import{a as V}from"./BpDpeONt.js";import{c as W}from"./n-s4RcA1.js";import{w as Z}from"./DKpueC4a.js";const D=()=>performance.now(),l={tick:r=>requestAnimationFrame(r),now:()=>D(),tasks:new Set};function $(){const r=l.now();l.tasks.forEach(t=>{t.c(r)||(l.tasks.delete(t),t.f())}),l.tasks.size!==0&&l.tick($)}function H(r){let t;return l.tasks.size===0&&l.tick($),{promise:new Promise(o=>{l.tasks.add(t={c:r,f:o})}),abort(){l.tasks.delete(t)}}}function R(r,t){Z(()=>{r.dispatchEvent(new CustomEvent(t))})}function J(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function B(r){const t={},o=r.split(";");for(const i of o){const[a,n]=i.split(":");if(!a||n===void 0)break;const s=J(a.trim());t[s]=n.trim()}return t}const X=r=>r;function it(r,t,o){var i=W,a,n,s,c=null;i.a??(i.a={element:r,measure(){a=this.element.getBoundingClientRect()},apply(){if(s?.abort(),n=this.element.getBoundingClientRect(),a.left!==n.left||a.right!==n.right||a.top!==n.top||a.bottom!==n.bottom){const u=t()(this.element,{from:a,to:n},o?.());s=A(this.element,u,void 0,1,()=>{s?.abort(),s=void 0})}},fix(){if(!r.getAnimations().length){var{position:u,width:h,height:_}=getComputedStyle(r);if(u!=="absolute"&&u!=="fixed"){var e=r.style;c={position:e.position,width:e.width,height:e.height,transform:e.transform},e.position="absolute",e.width=h,e.height=_;var f=r.getBoundingClientRect();if(a.left!==f.left||a.top!==f.top){var d=`translate(${a.left-f.left}px, ${a.top-f.top}px)`;e.transform=e.transform?`${e.transform} ${d}`:d}}}},unfix(){if(c){var u=r.style;u.position=c.position,u.width=c.width,u.height=c.height,u.transform=c.transform}}}),i.a.element=r}function ot(r,t,o,i){var a=(r&z)!==0,n=(r&Q)!==0,s=a&&n,c=(r&q)!==0,u=s?"both":a?"in":"out",h,_=t.inert,e=t.style.overflow,f,d;function g(){var b=G,k=S;x(null),I(null);try{return h??(h=o()(t,i?.()??{},{direction:u}))}finally{x(b),I(k)}}var v={is_global:c,in(){if(t.inert=_,!a){d?.abort(),d?.reset?.();return}n||f?.abort(),R(t,"introstart"),f=A(t,g(),d,1,()=>{R(t,"introend"),f?.abort(),f=h=void 0,t.style.overflow=e})},out(b){if(!n){b?.(),h=void 0;return}t.inert=!0,R(t,"outrostart"),d=A(t,g(),f,0,()=>{R(t,"outroend"),b?.()})},stop:()=>{f?.abort(),d?.abort()}},m=S;if((m.transitions??(m.transitions=[])).push(v),a&&V){var w=c;if(!w){for(var p=m.parent;p&&(p.f&L)!==0;)for(;(p=p.parent)&&(p.f&M)===0;);w=!p||(p.f&P)!==0}w&&U(()=>{K(()=>v.in())})}}function A(r,t,o,i,a){var n=i===1;if(j(t)){var s,c=!1;return y(()=>{if(!c){var m=t({direction:n?"in":"out"});s=A(r,m,o,i,a)}}),{abort:()=>{c=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(o?.deactivate(),!t?.duration)return a(),{abort:T,deactivate:T,reset:T,t:()=>i};const{delay:u=0,css:h,tick:_,easing:e=X}=t;var f=[];if(n&&o===void 0&&(_&&_(0,1),h)){var d=B(h(0,1));f.push(d,d)}var g=()=>1-i,v=r.animate(f,{duration:u});return v.onfinish=()=>{var m=o?.t()??1-i;o?.abort();var w=i-m,p=t.duration*Math.abs(w),b=[];if(p>0){var k=!1;if(h)for(var N=Math.ceil(p/16.666666666666668),C=0;C<=N;C+=1){var O=m+w*e(C/N),F=B(h(O,1-O));b.push(F),k||(k=F.overflow==="hidden")}k&&(r.style.overflow="hidden"),g=()=>{var E=v.currentTime;return m+w*e(E/p)},_&&H(()=>{if(v.playState!=="running")return!1;var E=g();return _(E,1-E),!0})}v=r.animate(b,{duration:p,fill:"forwards"}),v.onfinish=()=>{g=()=>i,_?.(i,1-i),a()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=T)},deactivate:()=>{a=T},reset:()=>{i===0&&_?.(1,0)},t:()=>g()}}export{it as a,H as l,l as r,ot as t};
