import"./CWj6FrbW.js";import{i as T,t as U,l as e,r as t,m as o,x as w,n as i,u as V,s as W,g as X,k as Y,o as A}from"./BxrbYPPH.js";import{s as m}from"./BpDpeONt.js";import{a as v}from"./BGk8CD_Q.js";import{d as Z}from"./DKpueC4a.js";import{p as B}from"./Cqu1rs7T.js";import"./69_IOA4Y.js";import{R as $}from"./DeCFj9E2.js";import{R as ee}from"./CT5IbSXe.js";import{c as R}from"./Dcrl4MPd.js";import{a as te,c as ae,s as D}from"./iREZRceN.js";import{g as se,a as ie}from"./C6eE29Wt.js";var re=(S,r,c,p)=>r(c().id,i(p)),oe=U('<div class="overflow-hidden rounded-lg border border-gray-100 bg-white shadow-sm"><a class="relative block"><div class="relative aspect-[4/3] w-full overflow-hidden"><img class="h-full w-full object-cover transition-transform duration-300 hover:scale-105" loading="lazy" decoding="async" width="400" height="300"></div></a> <div class="px-2 py-2"><h3 class="line-clamp-2 text-sm/5 font-medium tracking-tight"> </h3> <div class="mt-1 flex items-center"><!> <span class="ml-0.5 text-xs text-gray-500"> </span> <span class="ml-1 text-xs text-gray-500"> </span></div> <div class="mt-1.5 flex items-center justify-between"><span class="font-semibold text-gray-900"> </span> <button><!></button></div></div></div>');function xe(S,r){T(r,!0);const c=se(),p=ie();let a=B(r,"service",19,()=>[]),g=B(r,"service_likes",19,()=>[]),n=W(!1),E=w(()=>new Set(g().map(s=>s.service_id))),_=w(()=>i(E).has(a().id));const G=async(s,b)=>{if(!ae(c)||i(n))return;A(n,!0);const q=b?"delete":"insert",P=b?"서비스 좋아요를 취소했어요!":"서비스 좋아요를 눌렀어요!";try{await p.service_likes[q](s,c.id),D("success",P);const y=b?g().filter(Q=>Q.service_id!==s):[...g(),{service_id:s}];r.onLikeChanged?.({service_id:s,likes:y})}catch(y){console.error(`Failed to ${q} service like:`,y),D("error","좋아요 처리에 실패했어요.")}finally{A(n,!1)}};var f=oe(),d=e(f),z=e(d),F=e(z);t(z),t(d);var j=o(d,2),u=e(j),I=e(u,!0);t(u);var h=o(u,2),C=e(h);ee(C,{size:12,get color(){return R.primary}});var x=o(C,2),J=e(x,!0);t(x);var H=o(x,2),K=e(H);t(H),t(h);var L=o(h,2),k=e(L),M=e(k);t(k);var l=o(k,2);l.__click=[re,G,a,_];var N=e(l);const O=w(()=>i(_)?R.warning:R.gray[400]);$(N,{size:18,get color(){return i(O)}}),t(l),t(L),t(j),t(f),V(s=>{v(d,"href",`/service/${a().id}`),v(F,"src",a().images[0]?.uri||"https://img.daisyui.com/images/stock/photo-1625726411847-8cbb60cc71e6.webp"),v(F,"alt",a().title),m(I,a().title),m(J,a().rating||0),m(K,`(${(a().rating_count||0)??""})`),m(M,`₩${s??""}`),l.disabled=i(n),v(l,"aria-label",i(_)?"좋아요 취소":"좋아요")},[()=>te(a().price)]),X(S,f),Y()}Z(["click"]);export{xe as S};
