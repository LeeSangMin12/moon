import{ak as w,Q as y,P as u,h as t,al as C,F as A,R as b}from"./BxrbYPPH.js";import{l as m}from"./DKpueC4a.js";function V(e,c,a=c){var f=w();m(e,"input",r=>{var d=r?e.defaultValue:e.value;if(d=n(e)?k(d):d,a(d),f&&d!==(d=c())){var v=e.selectionStart,o=e.selectionEnd;e.value=d??"",o!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(o,e.value.length))}}),(t&&e.defaultValue!==e.value||y(c)==null&&e.value)&&a(n(e)?k(e.value):e.value),u(()=>{var r=c();n(e)&&r===k(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const _=new Set;function g(e,c,a,f,r=f){var d=a.getAttribute("type")==="checkbox",v=e;let o=!1;if(c!==null)for(var s of c)v=v[s]??(v[s]=[]);v.push(a),m(a,"change",()=>{var l=a.__value;d&&(l=i(v,l,a.checked)),r(l)},()=>r(d?[]:null)),u(()=>{var l=f();if(t&&a.defaultChecked!==a.checked){o=!0;return}d?(l=l||[],a.checked=l.includes(a.__value)):a.checked=C(a.__value,l)}),A(()=>{var l=v.indexOf(a);l!==-1&&v.splice(l,1)}),_.has(v)||(_.add(v),b(()=>{v.sort((l,h)=>l.compareDocumentPosition(h)===4?-1:1),_.delete(v)})),b(()=>{if(o){var l;if(d)l=i(v,l,a.checked);else{var h=v.find(S=>S.checked);l=h?.__value}r(l)}})}function q(e,c,a=c){m(e,"change",f=>{var r=f?e.defaultChecked:e.checked;a(r)}),(t&&e.defaultChecked!==e.checked||y(c)==null)&&a(e.checked),u(()=>{var f=c();e.checked=!!f})}function i(e,c,a){for(var f=new Set,r=0;r<e.length;r+=1)e[r].checked&&f.add(e[r].__value);return a||f.delete(c),Array.from(f)}function n(e){var c=e.type;return c==="number"||c==="range"}function k(e){return e===""?null:+e}export{g as a,V as b,q as c};
