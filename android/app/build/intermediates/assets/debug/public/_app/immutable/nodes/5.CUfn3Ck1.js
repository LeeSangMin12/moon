import"../chunks/CWj6FrbW.js";import{s as z,o as Jt}from"../chunks/BpDpeONt.js";import{q as Qt,u as S,g as l,i as yt,s as Z,j as X,k as kt,t as c,f as Ce,m as s,l as r,n as e,o as q,r as t,v as Ze,ac as Ae,x as Re,$ as Wt,e as xt,ap as ht}from"../chunks/BxrbYPPH.js";import{i as $}from"../chunks/C_-0o-f2.js";import{e as ie,i as _e}from"../chunks/n-s4RcA1.js";import{d as Ct,e as Xt,r as $t,h as Yt}from"../chunks/DKpueC4a.js";import{s as er,r as at,a as j}from"../chunks/BGk8CD_Q.js";import{b as Ee,a as tr}from"../chunks/vV7d1D-f.js";import{l as wt,p as Me,s as rr,a as ar}from"../chunks/Cqu1rs7T.js";import{g as jt,a as zt,p as ke}from"../chunks/C6eE29Wt.js";import{g as Ue}from"../chunks/DOeRUQ82.js";import{p as sr}from"../chunks/DkujJYMu.js";import{s as or}from"../chunks/BqNaFByK.js";import"../chunks/69_IOA4Y.js";import{R as ir}from"../chunks/DgJjuvVc.js";import{B as lr}from"../chunks/ixumTwwY.js";import{H as nr}from"../chunks/BezDMT-k.js";import{I as De}from"../chunks/BtboDQMP.js";import{M as Ke}from"../chunks/IkWuq9-R.js";import{T as cr}from"../chunks/DEe1oh43.js";import{P as dr,c as _r}from"../chunks/Dlgnc5bw.js";import{U as vr}from"../chunks/CZSApgyP.js";import{S as ur}from"../chunks/rGeCVgF5.js";import{s as Y,c as rt,b as qt}from"../chunks/iREZRceN.js";import{c as ve}from"../chunks/Dcrl4MPd.js";import{o as Be}from"../chunks/Bxbzq6E6.js";var pr=Qt('<svg><path d="M13.1202 17.0228L8.92129 14.7324C8.19135 15.5125 7.15261 16 6 16C3.79086 16 2 14.2091 2 12C2 9.79086 3.79086 8 6 8C7.15255 8 8.19125 8.48746 8.92118 9.26746L13.1202 6.97713C13.0417 6.66441 13 6.33707 13 6C13 3.79086 14.7909 2 17 2C19.2091 2 21 3.79086 21 6C21 8.20914 19.2091 10 17 10C15.8474 10 14.8087 9.51251 14.0787 8.73246L9.87977 11.0228C9.9583 11.3355 10 11.6629 10 12C10 12.3371 9.95831 12.6644 9.87981 12.9771L14.0788 15.2675C14.8087 14.4875 15.8474 14 17 14C19.2091 14 21 15.7909 21 18C21 20.2091 19.2091 22 17 22C14.7909 22 13 20.2091 13 18C13 17.6629 13.0417 17.3355 13.1202 17.0228ZM6 14C7.10457 14 8 13.1046 8 12C8 10.8954 7.10457 10 6 10C4.89543 10 4 10.8954 4 12C4 13.1046 4.89543 14 6 14ZM17 8C18.1046 8 19 7.10457 19 6C19 4.89543 18.1046 4 17 4C15.8954 4 15 4.89543 15 6C15 7.10457 15.8954 8 17 8ZM17 20C18.1046 20 19 19.1046 19 18C19 16.8954 18.1046 16 17 16C15.8954 16 15 16.8954 15 18C15 19.1046 15.8954 20 17 20Z"></path></svg>');function mr(M,d){const N=wt(d,["children","$$slots","$$events","$$legacy"]),be=wt(N,["size","color","label","class"]);let K=Me(d,"size",8,"1em"),L=Me(d,"color",8,"currentColor"),ee=Me(d,"label",8,""),p=Me(d,"class",8,"");var g=pr();let o;S(()=>o=er(g,o,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:K(),height:K(),fill:L(),"aria-label":ee()?ee():void 0,"aria-hidden":ee()?void 0:"true",role:ee()?"img":void 0,class:`remixicon ri-share-line ${p()??""}`,...be})),l(M,g)}const fr=(M,d,N)=>{d(!1),N()};var gr=c('<div class="w-full p-6"><h2 class="mb-1 text-xl font-bold text-gray-900"> </h2> <p class="mb-6 text-sm text-gray-500">커피챗을 통해 네트워킹하고 소통해보세요.</p> <form class="space-y-4"><div><label for="email" class="mb-2 block text-sm font-medium text-gray-700">이메일 주소</label> <input id="email" type="email" class="w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:border-blue-500 focus:ring-blue-500" placeholder="your-email@example.com" required> <p class="mt-1 text-xs text-gray-500">응답을 받을 이메일 주소를 입력해주세요.</p></div> <div><label for="subject" class="mb-2 block text-sm font-medium text-gray-700">커피챗 제목</label> <input id="subject" type="text" class="w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:border-blue-500 focus:ring-blue-500" placeholder="예: 마케팅 전략에 대해 이야기하고 싶어요" maxlength="100" required></div> <div><label for="content" class="mb-2 block text-sm font-medium text-gray-700">커피챗 내용</label> <textarea id="content" class="w-full resize-none rounded-lg border border-gray-300 px-3 py-2 outline-none focus:border-blue-500 focus:ring-blue-500" placeholder="어떤 주제로 대화하고 싶은지, 언제 만나고 싶은지 등을 자세히 적어주세요." rows="4" maxlength="1000" required></textarea> <div class="mt-1 flex justify-between text-xs text-gray-500"><span>구체적으로 작성할수록 좋은 응답을 받을 수 있어요.</span> <span> </span></div></div></form></div> <div class="flex"><button type="button" class="flex-1 py-3 text-gray-600 transition-colors hover:bg-gray-50">취소</button> <button type="button" class="flex-1 bg-blue-500 py-3 font-medium text-white transition-colors hover:bg-blue-600">커피챗 요청하기</button></div>',1);function br(M,d){yt(d,!0);const N=jt(),be=zt();let K=Me(d,"isOpen",15),L=Z(X({email:"",subject:"",content:""}));const ee=()=>{q(L,{email:"",subject:"",content:""},!0)},p=async()=>{if(!e(L).email.trim()){Y("error","이메일 주소를 입력해주세요.");return}if(!e(L).subject.trim()){Y("error","커피챗 제목을 입력해주세요.");return}if(!e(L).content.trim()){Y("error","커피챗 내용을 입력해주세요.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e(L).email)){Y("error","올바른 이메일 형식을 입력해주세요.");return}try{const o=await be.coffee_chats.insert({sender_id:N.id,recipient_id:d.recipientUser.id,email:e(L).email,subject:e(L).subject,content:e(L).content,status:"pending"});try{await be.notifications.insert({recipient_id:d.recipientUser.id,actor_id:N.id,type:"coffee_chat.requested",resource_type:"coffee_chat",resource_id:String(o.id),payload:{sender_id:N.id,sender_name:N.name,sender_handle:N.handle,subject:e(L).subject},link_url:`/@${d.recipientUser.handle}/accounts/coffee-chat`})}catch(le){console.error("Failed to create coffee chat notification:",le)}Y("success","커피챗 요청이 성공적으로 전송되었습니다!"),K(!1),ee()}catch(o){console.error("Coffee chat request failed:",o),Y("error","커피챗 요청 전송 중 오류가 발생했습니다.")}};Ke(M,{modal_position:"center",get is_modal_open(){return K()},set is_modal_open(g){K(g)},children:(g,o)=>{var le=gr(),te=Ce(le),ue=r(te),Te=r(ue);t(ue);var $e=s(ue,4),U=r($e),ne=s(r(U),2);at(ne),Ze(2),t(U);var xe=s(U,2),je=s(r(xe),2);at(je),t(xe);var he=s(xe,2),we=s(r(he),2);$t(we);var ze=s(we,2),E=s(r(ze),2),ce=r(E);t(E),t(ze),t(he),t($e),t(te);var H=s(te,2),B=r(H);B.__click=[fr,K,ee];var ye=s(B,2);ye.__click=p,t(H),S(()=>{z(Te,`${d.recipientUser?.name||"사용자"}님께 커피챗 요청`),z(ce,`${e(L).content.length??""}/1000`)}),Xt("submit",$e,Q=>{Q.preventDefault(),p()}),Ee(ne,()=>e(L).email,Q=>e(L).email=Q),Ee(je,()=>e(L).subject,Q=>e(L).subject=Q),Ee(we,()=>e(L).content,Q=>e(L).content=Q),l(g,le)},$$slots:{default:!0}}),kt()}Ct(["click"]);var xr=c('<meta name="description"> <meta property="og:type" content="profile"> <meta property="og:url"> <meta property="og:title" 프로필=""> <meta property="og:description"> <meta property="og:image"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="630"> <meta property="twitter:card" content="summary_large_image"> <meta property="twitter:url"> <meta property="twitter:title" 프로필=""> <meta property="twitter:description"> <meta property="twitter:image">',1),hr=c('<button class="flex items-center" aria-label="이전 페이지로 돌아가기"><!></button>'),wr=c('<div slot="left"><!></div>'),yr=c('<div slot="right"><button class="flex items-center"><!></button></div>'),kr=(M,d)=>d("followers"),Cr=(M,d)=>d("followings"),$r=(M,d)=>e(d)?.handle&&Ue(`/@${e(d).handle}/accounts/profile/modify`),jr=(M,d)=>{qt(`${window.location.origin}/@${e(d)?.handle||""}`,"링크가 복사되었습니다.")},zr=c('<div class="mt-4 flex space-x-2"><button class="btn flex h-9 flex-1 items-center justify-center border-none bg-gray-100" aria-label="프로필 편집 페이지로 이동">프로필 편집</button> <button class="btn flex h-9 flex-1 items-center justify-center border-none bg-gray-100" aria-label="프로필 링크 복사하기">프로필 공유</button></div>'),qr=c('<button class="btn flex h-9 flex-1 items-center justify-center">팔로잉</button>'),Sr=c('<button class="btn btn-primary flex h-9 flex-1 items-center justify-center">팔로우</button>'),Pr=(M,d)=>{qt(`${window.location.origin}/@${e(d)?.handle||""}`,"링크가 복사되었습니다.")},Lr=c('<div class="mt-4 flex space-x-2"><!> <button class="btn flex h-9 flex-1 items-center justify-center border-none bg-gray-100">커피챗</button> <button class="flex h-9 w-9 items-center justify-center rounded-lg bg-gray-100 min-w-[44px] min-h-[44px]" aria-label="프로필 링크 공유하기"><!></button></div>'),Rr=c('<div class="mt-4"><!></div>'),Dr=(M,d)=>Ue(`/@${e(d).post.users.handle}/post/${e(d).post.id}`),Mr=c('<button class="mt-1 text-xs text-blue-600 hover:underline" aria-label="원본 게시글 보기">게시글 보기 →</button>'),Ur=c('<div class="mb-3 rounded bg-gray-50 p-3"><p class="line-clamp-2 overflow-hidden text-sm font-medium text-ellipsis" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;"> </p> <!></div>'),Fr=c('<div class="mt-2 ml-4 border-l-2 border-gray-200 pl-3"><p class="mb-1 text-xs text-gray-500">답글:</p> <p class="text-sm text-gray-600"> </p></div>'),Or=c('<div class="mt-2 inline-flex items-center rounded-full bg-yellow-100 px-2 py-1"><!> <span class="ml-1 text-xs font-medium text-yellow-800"> </span></div>'),Ar=c('<div class="rounded-lg border border-gray-200 bg-white p-4"><!> <div class="flex items-start space-x-3"><img class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32"> <div class="flex-1"><div class="flex items-center space-x-2"><p class="text-sm font-medium"> </p> <span class="text-xs text-gray-500"> </span></div> <!> <p class="mt-2 text-sm whitespace-pre-wrap"> </p> <!></div></div></div>'),Br=c('<div class="mx-4 mt-4 space-y-3"></div>'),Zr=c('<div class="mt-4 grid grid-cols-2 gap-4 px-4"></div>'),Er=(M,d)=>Ue(`/expert-request/${e(d).request.id}`),Kr=c('<div class="mb-3 rounded bg-emerald-50 p-3"><p class="mb-1 text-xs text-emerald-700">전문가 요청 리뷰</p> <p class="text-sm font-medium text-gray-900"> </p> <button class="mt-1 text-xs text-emerald-600 hover:underline" aria-label="전문가 요청 상세보기">요청 보기 →</button></div>'),Tr=c('<img class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),Gr=c('<img alt="익명 사용자의 기본 프로필 사진" class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),Hr=c('<p class="text-sm font-medium"> </p>'),Ir=c('<p class="text-sm font-medium">익명 사용자</p>'),Nr=c('<h3 class="mt-2 text-sm font-medium"> </h3>'),Vr=c('<div class="rounded-lg border border-gray-200 bg-white p-4"><!> <div class="flex items-start space-x-3"><!> <div class="flex-1"><div class="flex items-center justify-between"><div class="flex items-center space-x-2"><!> <div class="flex items-center"></div></div> <span class="text-xs text-gray-500"> </span></div> <!> <p class="mt-1 text-sm whitespace-pre-wrap text-gray-700"> </p></div></div></div>'),Jr=(M,d)=>Ue(`/service/${e(d).service.id}`),Qr=c('<div class="mb-3 rounded bg-blue-50 p-3"><p class="mb-1 text-xs text-blue-700">서비스 리뷰</p> <p class="text-sm font-medium text-gray-900"> </p> <button class="mt-1 text-xs text-blue-600 hover:underline" aria-label="서비스 상세보기">서비스 보기 →</button></div>'),Wr=c('<img class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),Xr=c('<img alt="익명 사용자의 기본 프로필 사진" class="h-8 w-8 rounded-full" loading="lazy" width="32" height="32">'),Yr=c('<p class="text-sm font-medium"> </p>'),ea=c('<p class="text-sm font-medium">익명 사용자</p>'),ta=c('<h3 class="mt-2 text-sm font-medium"> </h3>'),ra=c('<div class="rounded-lg border border-gray-200 bg-white p-4"><!> <div class="flex items-start space-x-3"><!> <div class="flex-1"><div class="flex items-center justify-between"><div class="flex items-center space-x-2"><!> <div class="flex items-center"></div></div> <span class="text-xs text-gray-500"> </span></div> <!> <p class="mt-1 text-sm whitespace-pre-wrap text-gray-700"> </p></div></div></div>'),aa=c('<div class="mx-4 mt-4 space-y-3"><!> <!></div>'),sa=c("<p>작성한 게시글이 없습니다.</p>"),oa=c("<p>작성한 댓글이 없습니다.</p>"),ia=c("<p>등록한 서비스가 없습니다.</p>"),la=c("<p>받은 리뷰가 없습니다.</p>"),na=c('<div class="mx-4 mt-8 text-center text-gray-500"><!></div>'),ca=(M,d)=>d.report=!0,da=c('<div class="flex flex-col items-center bg-gray-100 p-4 text-sm font-medium"><button class="flex w-full flex-col items-center rounded-lg bg-white" aria-label="사용자 신고하기"><div class="flex w-full items-center gap-2 p-3"><!> <p class="text-red-500">신고하기</p></div></button></div>'),_a=c('<label class="flex items-center"><input type="radio" name="report_reason" class="radio radio-primary radio-xs"> <span class="ml-2"> </span></label>'),va=(M,d)=>d.report=!1,ua=c('<div class="p-4"><h2 class="text-lg font-bold">무엇을 신고하시나요?</h2> <p class="mt-1 text-sm text-gray-500">커뮤니티 가이드라인에 어긋나는 내용을 알려주세요.</p> <div class="mt-4 space-y-2"></div> <textarea class="textarea textarea-bordered focus:border-primary mt-4 w-full focus:outline-none" placeholder="상세 내용을 입력해주세요. (선택 사항)" rows="3"></textarea></div> <div class="flex"><button class="btn w-1/3 rounded-none" aria-label="신고 취소">취소</button> <button class="btn btn-primary w-2/3 rounded-none" aria-label="신고 제출하기">제출</button></div>',1),pa=c('<p class="py-8 text-center text-gray-500">아직 유저가 없습니다.</p>'),ma=c('<div class="p-4"><h2 class="mb-4 text-lg font-bold"> </h2> <!></div>'),fa=c('<!> <main><section class="px-4"><div class="flex items-start"><div class="mr-4"><img class="block aspect-square h-14 w-14 rounded-full object-cover" loading="eager" width="56" height="56"></div> <div class="flex-1"><h2 class="text-sm text-gray-500"> </h2> <h1 class="mt-1 text-lg font-semibold"> </h1></div></div> <div class="mt-4 flex items-center space-x-4"><button class="cursor-pointer min-h-[44px] py-2"><span class="font-medium"> </span> <span class="text-sm text-gray-500">팔로워</span></button> <button class="cursor-pointer min-h-[44px] py-2"><span class="font-medium"> </span> <span class="text-sm text-gray-500">팔로잉</span></button></div> <p class="mt-4 text-sm whitespace-pre-wrap"> </p> <!></section> <div class="mt-6"><!></div> <!></main> <!> <!> <!> <!> <!>',1);function Ta(M,d){yt(d,!0);const[N,be]=rr(),K=()=>ar(sr,"$page",N),L=[],ee=["스팸/광고성 유저입니다.","욕설/혐오 발언을 사용했습니다.","선정적인 내용을 포함하고 있습니다.","잘못된 정보를 포함하고 있습니다.","기타"],p=jt(),g=zt();let o=Re(()=>d.data.user),le=Re(()=>d.data.posts),te=Z(0),ue=Z(0);Ae(()=>{!e(o)?.id||!g?.user_follows||Te(e(o).id)});const Te=async a=>{if(g?.user_follows)try{const[u,_]=await Promise.all([g.user_follows.get_follower_count(a),g.user_follows.get_following_count(a)]);q(te,u,!0),q(ue,_,!0)}catch(u){console.error("Failed to load follow counts:",u)}};let $e=["게시글","댓글","서비스","받은리뷰"],U=Z(0),ne=Z(X([])),xe=Z(X([])),je=Z(X([])),he=Z(X([])),we=Z(X([])),ze=Z(X([])),E=Re(()=>({posts:e(ne),post_comments:e(xe),services:e(je),service_likes:e(he),service_reviews:e(we),expert_request_reviews:e(ze)}));Ae(()=>{e(le)&&e(le).length>0&&q(ne,e(le),!0)});let ce=Z(!1),H=X({reason:"",details:""}),B=X({user_config:!1,report:!1,coffee_chat:!1}),ye=Z(!1),Q=Z("followers"),Fe=Z(X([]));Jt(async()=>{p?.id&&q(ce,await g.user_follows.is_following(p.id,e(o).id),!0)});const st=async()=>{if(rt(p)){if(e(ce))await g.user_follows.unfollow(p.id,e(o).id),p.user_follows=p.user_follows.filter(a=>a.following_id!==e(o).id),ht(te,-1);else{await g.user_follows.follow(p.id,e(o).id),p.user_follows.push({following_id:e(o).id}),ht(te);try{await g.notifications.insert({recipient_id:e(o).id,actor_id:p.id,type:"follow.created",resource_type:"user",resource_id:String(p.id),payload:{follower_id:p.id,follower_handle:p.handle},link_url:`/@${p.handle}`})}catch(a){console.error("Failed to insert notification (follow.created):",a)}}q(ce,!e(ce)),Y("success","팔로잉 상태가 변경되었습니다.")}},St=async()=>{if(H.reason===""){Y("error","신고 사유를 선택해주세요.");return}try{await g.user_reports.insert({reporter_id:p.id,user_id:e(o).id,reason:H.reason,details:H.details}),Y("success","신고가 정상적으로 접수되었습니다.")}catch(a){console.error("Failed to submit report:",a),Y("error","신고 접수 중 오류가 발생했습니다.")}finally{B.report=!1,B.user_config=!1,H.reason="",H.details=""}},Pt=async a=>{if(!p?.id||a.length===0)return a;try{const[u,_]=await Promise.all([g.post_votes.select_by_user_id(p.id),g.post_bookmarks.select_by_user_id_lightweight(p.id)]),m=new Set(a.map(f=>f.id)),w=u.filter(f=>m.has(f.post_id)),h=_.filter(f=>m.has(f.post_id));return a.map(f=>({...f,post_votes:w.filter(x=>x.post_id===f.id),post_bookmarks:h.filter(x=>x.post_id===f.id)}))}catch(u){return console.error("Failed to attach user interactions:",u),a}},ot=async a=>{if(g?.posts){if(a===0){const u=await g.posts.select_by_user_id(e(o).id);q(ne,await Pt(u),!0)}else if(a===1)q(xe,await g.post_comments.select_by_user_id(e(o).id),!0);else if(a===2)q(je,await g.services.select_by_user_id(e(o).id),!0),q(he,await g.service_likes.select_by_user_id(e(o).id),!0);else if(a===3){const[u,_]=await Promise.all([g.service_reviews.select_by_service_author_id(e(o).id),g.expert_request_reviews.select_by_expert_id(e(o).id)]);q(we,u,!0),q(ze,_,!0)}}};Ae(()=>{g?.posts&&ot(e(U))});const Lt=async({gift_content:a,gift_moon_point:u,parent_comment_id:_,post_id:m})=>{await g.post_comments.insert({post_id:m,user_id:p.id,content:a,parent_comment_id:_,gift_moon_point:u})},{handle_bookmark_changed:Rt,handle_vote_changed:Dt}=_r(()=>e(ne),a=>{q(ne,a,!0)},p),Mt=({service_id:a,likes:u})=>{q(he,u,!0)},it=async a=>{q(Q,a,!0),q(ye,!0),a==="followers"?q(Fe,await g.user_follows.select_followers(e(o).id),!0):q(Fe,await g.user_follows.select_followings(e(o).id),!0)};let lt=Z(null);Ae(()=>{e(o)?.id&&e(o).id!==e(lt)&&(q(lt,e(o).id,!0),q(U,0),ot(0),p?.id&&g.user_follows.is_following(p.id,e(o).id).then(a=>{q(ce,a,!0)}),q(ye,!1))});var nt=fa();Yt(a=>{var u=xr(),_=Ce(u),m=s(_,4);j(m,"content",typeof window<"u"?window.location.href:"");var w=s(m,2),h=s(w,2),f=s(h,2),x=s(f,8);j(x,"content",typeof window<"u"?window.location.href:"");var b=s(x,2),y=s(b,2),F=s(y,2);S(()=>{Wt.title=`${e(o)?.name||"사용자"}의 프로필 | 문`,j(_,"content",e(o)?.self_introduction||`${e(o)?.name||"사용자"}의 프로필입니다. 게시글, 댓글, 서비스, 리뷰를 확인하고 팔로우하세요.`),j(w,"content",`${e(o)?.name||"사용자"}의`),j(h,"content",e(o)?.self_introduction||`${e(o)?.name||"사용자"}의 프로필입니다. 게시글, 댓글, 서비스, 리뷰를 확인하고 팔로우하세요.`),j(f,"content",e(o)?.avatar_url||ke),j(b,"content",`${e(o)?.name||"사용자"}의`),j(y,"content",e(o)?.self_introduction||`${e(o)?.name||"사용자"}의 프로필입니다. 게시글, 댓글, 서비스, 리뷰를 확인하고 팔로우하세요.`),j(F,"content",e(o)?.avatar_url||ke)}),l(a,u)});var ct=Ce(nt);nr(ct,{$$slots:{left:(a,u)=>{var _=wr(),m=r(_);{var w=h=>{var f=hr();f.__click=function(...b){or?.apply(this,b)};var x=r(f);ir(x,{size:28,get color(){return ve.gray[600]}}),t(f),l(h,f)};$(m,h=>{K().params.handle!==p?.handle&&h(w)})}t(_),l(a,_)},right:(a,u)=>{var _=yr(),m=r(_);m.__click=()=>{rt(p)&&(K().params.handle!==p?.handle?B.user_config=!0:Ue(`/@${p?.handle}/accounts`))};var w=r(m);De(w,{attribute:"menu",size:24,get color(){return ve.gray[600]}}),t(m),t(_),S(()=>j(m,"aria-label",K().params.handle!==p?.handle?"사용자 메뉴 열기":"계정 설정 열기")),l(a,_)}}});var Ge=s(ct,2),He=r(Ge),Ie=r(He),Ne=r(Ie),dt=r(Ne);t(Ne);var _t=s(Ne,2),Ve=r(_t),Ut=r(Ve);t(Ve);var vt=s(Ve,2),Ft=r(vt,!0);t(vt),t(_t),t(Ie);var Je=s(Ie,2),qe=r(Je);qe.__click=[kr,it];var ut=r(qe),Ot=r(ut,!0);t(ut),Ze(2),t(qe);var Oe=s(qe,2);Oe.__click=[Cr,it];var pt=r(Oe),At=r(pt,!0);t(pt),Ze(2),t(Oe),t(Je);var Qe=s(Je,2),Bt=r(Qe,!0);t(Qe);var Zt=s(Qe,2);{var Et=a=>{var u=zr(),_=r(u);_.__click=[$r,o];var m=s(_,2);m.__click=[jr,o],t(u),l(a,u)},Kt=a=>{var u=Lr(),_=r(u);{var m=b=>{var y=qr();y.__click=st,S(()=>j(y,"aria-label",`${e(o)?.name??""}님 팔로우 취소`)),l(b,y)},w=b=>{var y=Sr();y.__click=st,S(()=>j(y,"aria-label",`${e(o)?.name??""}님 팔로우하기`)),l(b,y)};$(_,b=>{e(ce)?b(m):b(w,!1)})}var h=s(_,2);h.__click=()=>{rt(p)&&(B.coffee_chat=!0)};var f=s(h,2);f.__click=[Pr,o];var x=r(f);mr(x,{}),t(f),t(u),S(()=>j(h,"aria-label",`${e(o)?.name??""}님에게 커피챗 신청하기`)),l(a,u)};$(Zt,a=>{K().params.handle===p?.handle?a(Et):a(Kt,!1)})}t(He);var We=s(He,2),Tt=r(We);cr(Tt,{tabs:$e,get selected(){return e(U)},set selected(a){q(U,a,!0)}}),t(We);var Gt=s(We,2);{var Ht=a=>{var u=xt(),_=Ce(u);ie(_,17,()=>e(E).posts,_e,(m,w)=>{var h=Rr(),f=r(h);dr(f,{get post(){return e(w)},onGiftCommentAdded:Lt,onBookmarkChanged:Rt,onVoteChanged:Dt}),t(h),l(m,h)}),l(a,u)},It=(a,u)=>{{var _=w=>{var h=Br();ie(h,21,()=>e(E).post_comments,_e,(f,x)=>{var b=Ar(),y=r(b);{var F=k=>{var C=Ur(),R=r(C),A=r(R,!0);t(R);var se=s(R,2);{var Se=oe=>{var de=Mr();de.__click=[Dr,x],l(oe,de)};$(se,oe=>{e(x).post?.users?.handle&&oe(Se)})}t(C),S(()=>z(A,e(x).post.title||e(x).post.content)),l(k,C)};$(y,k=>{e(x).post&&k(F)})}var I=s(y,2),D=r(I),T=s(D,2),V=r(T),re=r(V),ae=r(re);t(re);var v=s(re,2),G=r(v,!0);t(v),t(V);var W=s(V,2);{var pe=k=>{var C=Fr(),R=s(r(C),2),A=r(R);t(R),t(C),S(()=>z(A,`@${e(x).parent_comment.users?.handle||"unknown"}:
										${e(x).parent_comment.content??""}`)),l(k,C)};$(W,k=>{e(x).parent_comment&&k(pe)})}var O=s(W,2),J=r(O,!0);t(O);var me=s(O,2);{var fe=k=>{var C=Or(),R=r(C);De(R,{attribute:"gift",size:14,get color(){return ve.warning}});var A=s(R,2),se=r(A);t(A),t(C),S(()=>z(se,`${e(x).gift_moon_point??""} 문 선물`)),l(k,C)};$(me,k=>{e(x).gift_moon_point>0&&k(fe)})}t(T),t(I),t(b),S((k,C)=>{j(D,"src",k),j(D,"alt",`${e(o).name??""}님의 프로필 사진`),z(ae,`@${e(o)?.handle??"unknown"??""}`),z(G,C),z(J,e(x).content)},[()=>Be(e(o).avatar_url)||ke,()=>new Date(e(x).created_at).toLocaleDateString("ko-KR")]),l(f,b)}),t(h),l(w,h)},m=(w,h)=>{{var f=b=>{var y=Zr();ie(y,21,()=>e(E).services,F=>F.id,(F,I)=>{ur(F,{get service(){return e(I)},get service_likes(){return e(E).service_likes},onLikeChanged:Mt})}),t(y),l(b,y)},x=(b,y)=>{{var F=D=>{var T=aa(),V=r(T);ie(V,17,()=>e(E).expert_request_reviews,_e,(ae,v)=>{var G=Vr(),W=r(G);{var pe=i=>{var n=Kr(),P=s(r(n),2),ge=r(P,!0);t(P);var tt=s(P,2);tt.__click=[Er,v],t(n),S(()=>z(ge,e(v).request.title||"제목 없음")),l(i,n)};$(W,i=>{e(v).request&&i(pe)})}var O=s(W,2),J=r(O);{var me=i=>{var n=Tr();S(P=>{j(n,"src",P),j(n,"alt",`${e(v).reviewer.name||"익명 사용자"}님의 프로필 사진`)},[()=>Be(e(v).reviewer.avatar_url)]),l(i,n)},fe=i=>{var n=Gr();j(n,"src",ke),l(i,n)};$(J,i=>{e(v).reviewer?.avatar_url?i(me):i(fe,!1)})}var k=s(J,2),C=r(k),R=r(C),A=r(R);{var se=i=>{var n=Hr(),P=r(n);t(n),S(()=>z(P,`@${e(v).reviewer.handle??""}`)),l(i,n)},Se=i=>{var n=Ir();l(i,n)};$(A,i=>{e(v).reviewer?.handle?i(se):i(Se,!1)})}var oe=s(A,2);ie(oe,20,()=>Array(5),_e,(i,n,P)=>{const ge=Re(()=>P<e(v).rating?ve.primary:ve.gray[300]);De(i,{attribute:"star",size:14,get color(){return e(ge)}})}),t(oe),t(R);var de=s(R,2),Xe=r(de,!0);t(de),t(C);var Pe=s(C,2);{var Ye=i=>{var n=Nr(),P=r(n,!0);t(n),S(()=>z(P,e(v).title)),l(i,n)};$(Pe,i=>{e(v).title&&i(Ye)})}var Le=s(Pe,2),et=r(Le,!0);t(Le),t(k),t(O),t(G),S(i=>{z(Xe,i),z(et,e(v).content)},[()=>new Date(e(v).created_at).toLocaleDateString("ko-KR")]),l(ae,G)});var re=s(V,2);ie(re,17,()=>e(E).service_reviews,_e,(ae,v)=>{var G=ra(),W=r(G);{var pe=i=>{var n=Qr(),P=s(r(n),2),ge=r(P,!0);t(P);var tt=s(P,2);tt.__click=[Jr,v],t(n),S(()=>z(ge,e(v).service.title||"제목 없음")),l(i,n)};$(W,i=>{e(v).service&&i(pe)})}var O=s(W,2),J=r(O);{var me=i=>{var n=Wr();S(P=>{j(n,"src",P),j(n,"alt",`${e(v).reviewer.name||"익명 사용자"}님의 프로필 사진`)},[()=>Be(e(v).reviewer.avatar_url)]),l(i,n)},fe=i=>{var n=Xr();j(n,"src",ke),l(i,n)};$(J,i=>{e(v).reviewer?.avatar_url?i(me):i(fe,!1)})}var k=s(J,2),C=r(k),R=r(C),A=r(R);{var se=i=>{var n=Yr(),P=r(n);t(n),S(()=>z(P,`@${e(v).reviewer.handle??""}`)),l(i,n)},Se=i=>{var n=ea();l(i,n)};$(A,i=>{e(v).reviewer?.handle?i(se):i(Se,!1)})}var oe=s(A,2);ie(oe,20,()=>Array(5),_e,(i,n,P)=>{const ge=Re(()=>P<e(v).rating?ve.primary:ve.gray[300]);De(i,{attribute:"star",size:14,get color(){return e(ge)}})}),t(oe),t(R);var de=s(R,2),Xe=r(de,!0);t(de),t(C);var Pe=s(C,2);{var Ye=i=>{var n=ta(),P=r(n,!0);t(n),S(()=>z(P,e(v).title)),l(i,n)};$(Pe,i=>{e(v).title&&i(Ye)})}var Le=s(Pe,2),et=r(Le,!0);t(Le),t(k),t(O),t(G),S(i=>{z(Xe,i),z(et,e(v).content)},[()=>new Date(e(v).created_at).toLocaleDateString("ko-KR")]),l(ae,G)}),t(T),l(D,T)},I=D=>{var T=na(),V=r(T);{var re=v=>{var G=sa();l(v,G)},ae=(v,G)=>{{var W=O=>{var J=oa();l(O,J)},pe=(O,J)=>{{var me=k=>{var C=ia();l(k,C)},fe=(k,C)=>{{var R=A=>{var se=la();l(A,se)};$(k,A=>{e(U)===3&&A(R)},C)}};$(O,k=>{e(U)===2?k(me):k(fe,!1)},J)}};$(v,O=>{e(U)===1?O(W):O(pe,!1)},G)}};$(V,v=>{e(U)===0?v(re):v(ae,!1)})}t(T),l(D,T)};$(b,D=>{e(U)===3&&(e(E).service_reviews.length>0||e(E).expert_request_reviews.length>0)?D(F):D(I,!1)},y)}};$(w,b=>{e(U)===2&&e(E).services.length>0?b(f):b(x,!1)},h)}};$(a,w=>{e(U)===1&&e(E).post_comments.length>0?w(_):w(m,!1)},u)}};$(Gt,a=>{e(U)===0&&e(E).posts.length>0?a(Ht):a(It,!1)})}t(Ge);var mt=s(Ge,2);{var Nt=a=>{lr(a,{})};$(mt,a=>{K().params.handle===p?.handle&&a(Nt)})}var ft=s(mt,2);Ke(ft,{modal_position:"bottom",get is_modal_open(){return B.user_config},set is_modal_open(a){B.user_config=a},children:(a,u)=>{var _=da(),m=r(_);m.__click=[ca,B];var w=r(m),h=r(w);De(h,{attribute:"exclamation",size:24,get color(){return ve.warning}}),Ze(2),t(w),t(m),t(_),l(a,_)},$$slots:{default:!0}});var gt=s(ft,2);Ke(gt,{modal_position:"center",get is_modal_open(){return B.report},set is_modal_open(a){B.report=a},children:(a,u)=>{var _=ua(),m=Ce(_),w=s(r(m),4);ie(w,21,()=>ee,_e,(y,F)=>{var I=_a(),D=r(I);at(D);var T,V=s(D,2),re=r(V,!0);t(V),t(I),S(()=>{T!==(T=e(F))&&(D.value=(D.__value=e(F))??""),z(re,e(F))}),tr(L,[],D,()=>(e(F),H.reason),ae=>H.reason=ae),l(y,I)}),t(w);var h=s(w,2);$t(h),t(m);var f=s(m,2),x=r(f);x.__click=[va,B];var b=s(x,2);b.__click=St,t(f),Ee(h,()=>H.details,y=>H.details=y),l(a,_)},$$slots:{default:!0}});var bt=s(gt,2);Ke(bt,{modal_position:"center",get is_modal_open(){return e(ye)},set is_modal_open(a){q(ye,a,!0)},children:(a,u)=>{var _=ma(),m=r(_),w=r(m,!0);t(m);var h=s(m,2);{var f=b=>{var y=pa();l(b,y)},x=b=>{var y=xt(),F=Ce(y);ie(F,17,()=>e(Fe),_e,(I,D)=>{vr(I,{get profile(){return e(D).user}})}),l(b,y)};$(h,b=>{e(Fe).length===0?b(f):b(x,!1)})}t(_),S(()=>z(w,e(Q)==="followers"?"팔로워":"팔로잉")),l(a,_)},$$slots:{default:!0}});var Vt=s(bt,2);br(Vt,{get recipientUser(){return e(o)},get isOpen(){return B.coffee_chat},set isOpen(a){B.coffee_chat=a}}),S(a=>{j(dt,"src",a),j(dt,"alt",`${e(o)?.name||"사용자"}님의 프로필 사진`),z(Ut,`@${e(o)?.handle??"loading..."??""}`),z(Ft,e(o)?.name??"Loading..."),j(qe,"aria-label",`${e(te)??""}명의 팔로워 보기`),z(Ot,e(te)),j(Oe,"aria-label",`${e(ue)??""}명의 팔로잉 보기`),z(At,e(ue)),z(Bt,e(o)?.self_introduction||"")},[()=>Be(e(o)?.avatar_url)||ke]),l(M,nt),kt(),be()}Ct(["click"]);export{Ta as component};
