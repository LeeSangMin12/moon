import"../chunks/CWj6FrbW.js";import{i as Xt,s as Lt,j as Yt,t as u,f as Ct,u as y,g as p,k as Zt,$ as qt,l as a,m as s,r as t,n as e,v as it,o as F}from"../chunks/BxrbYPPH.js";import{s as i}from"../chunks/BpDpeONt.js";import{i as k}from"../chunks/C_-0o-f2.js";import{e as ta,i as aa}from"../chunks/n-s4RcA1.js";import{h as sa}from"../chunks/0AlaG3wI.js";import{d as ea,h as ra}from"../chunks/DKpueC4a.js";import{b as ia}from"../chunks/BGk8CD_Q.js";import{c as na}from"../chunks/Dcrl4MPd.js";import{g as oa,a as va}from"../chunks/C6eE29Wt.js";import{a as R,s as ft}from"../chunks/iREZRceN.js";import"../chunks/BnrzeG8w.js";import"../chunks/69_IOA4Y.js";import{R as la}from"../chunks/DgJjuvVc.js";import{R as Et}from"../chunks/D47Fyr3u.js";import{R as Ft}from"../chunks/DpfUluG8.js";import{B as da}from"../chunks/ixumTwwY.js";import{H as _a}from"../chunks/BezDMT-k.js";var ca=()=>history.back(),pa=u('<button slot="left"><!></button>'),ua=u('<h1 slot="center" class="font-semibold"></h1>'),ma=u('<div class="py-12 text-center"><p class="text-gray-500">입금 대기 중인 공고가 없습니다.</p></div>'),xa=u('<p class="text-xs text-gray-500"> </p>'),ba=u('<div class="flex justify-between border-t border-blue-200 pt-2"><span class="text-blue-700">등록비</span> <span class="text-blue-900"> </span></div> <div class="flex justify-between"><span class="text-blue-700">쿠폰 할인</span> <span class="text-blue-900"> </span></div>',1),fa=(j,x,b)=>x(e(b)),ga=(j,x,b)=>x(e(b).id),ya=(j,x,b)=>x(e(b).id),ha=u('<div class="rounded-lg border border-gray-200 bg-white p-4"><div class="mb-3"><div class="mb-1 flex items-start justify-between"><h3 class="flex-1 font-semibold text-gray-900"> </h3> <span class="ml-2 rounded-full bg-yellow-100 px-2 py-0.5 text-xs font-medium text-yellow-800">승인 대기</span></div> <!></div> <div class="mb-3 rounded-lg bg-gray-50 p-3"><p class="mb-1 text-xs font-medium text-gray-600">의뢰인 정보</p> <div class="space-y-1 text-sm"><div class="flex justify-between"><span class="text-gray-600">이름</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-gray-600">이메일</span> <span class="font-medium"> </span></div></div></div> <div class="mb-3 rounded-lg bg-blue-50 p-3"><p class="mb-2 text-xs font-medium text-blue-900">입금 정보</p> <div class="space-y-1 text-sm"><div class="flex justify-between"><span class="text-blue-700">입금자명</span> <span class="font-medium text-blue-900"> </span></div> <div class="flex justify-between"><span class="text-blue-700">은행</span> <span class="font-medium text-blue-900"> </span></div> <div class="flex justify-between"><span class="text-blue-700">계좌번호</span> <span class="font-medium text-blue-900"> </span></div> <!> <div class="flex justify-between border-t border-blue-200 pt-2"><span class="font-semibold text-blue-900">최종 입금 금액</span> <span class="text-lg font-bold text-blue-600"> </span></div></div></div> <div class="mb-3 space-y-1 text-sm"><div class="flex justify-between"><span class="text-gray-600">보상금</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-gray-600">입금 정보 제출</span> <span class="text-xs text-gray-500"> </span></div></div> <div class="flex gap-2"><button class="btn btn-outline flex-1">상세보기</button> <button class="btn btn-primary flex-1"><!> 승인</button> <button class="btn btn-error"><!> 거절</button></div></div>'),wa=u('<div class="space-y-4"></div>'),ka=j=>j.stopPropagation(),ja=u('<div class="flex justify-between"><span class="text-gray-600">지원 마감</span> <span class="font-medium"> </span></div>'),$a=u('<div class="flex justify-between"><span class="text-gray-600">업무 시작</span> <span class="font-medium"> </span></div>'),Ra=u('<div class="flex justify-between"><span class="text-gray-600">업무 종료</span> <span class="font-medium"> </span></div>'),za=u('<div><h4 class="mb-2 text-sm font-semibold text-gray-700">근무 위치</h4> <p class="text-gray-900"> </p></div>'),La=u('<div class="flex justify-between"><span class="text-blue-700">쿠폰 할인</span> <span class="font-medium text-blue-900"> </span></div> <div class="flex justify-between border-t border-blue-200 pt-1"><span class="font-semibold text-blue-900">최종 입금 금액</span> <span class="font-bold text-blue-600"> </span></div>',1),Ca=(j,x,b,G)=>{x(e(b).id),G()},Ba=(j,x,b,G)=>{x(e(b).id),G()},Pa=u('<div class="fixed inset-0 z-50 flex items-end justify-center bg-black/50 sm:items-center"><div class="max-h-[90vh] w-full overflow-y-auto rounded-t-2xl bg-white p-6 sm:max-w-2xl sm:rounded-2xl"><div class="mb-4 flex items-start justify-between"><h2 class="text-xl font-bold text-gray-900">공고 상세 정보</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="space-y-4"><div><h3 class="mb-2 text-lg font-semibold text-gray-900"> </h3> <div class="flex gap-2"><span class="rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800"> </span> <span class="rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-800"> </span></div></div> <div><h4 class="mb-2 text-sm font-semibold text-gray-700">공고 설명</h4> <div class="rounded-lg bg-gray-50 p-4"><div class="prose prose-sm max-w-none text-gray-700"><!></div></div></div> <div class="grid gap-4 sm:grid-cols-2"><div><h4 class="mb-2 text-sm font-semibold text-gray-700">보상금</h4> <p class="text-lg font-bold text-blue-600"> </p> <p class="text-xs text-gray-500"> </p></div> <div><h4 class="mb-2 text-sm font-semibold text-gray-700">최대 지원자</h4> <p class="text-lg font-bold text-gray-900"> </p></div></div> <div><h4 class="mb-2 text-sm font-semibold text-gray-700">일정</h4> <div class="space-y-2 text-sm"><!> <!> <!></div></div> <!> <div class="rounded-lg border-2 border-blue-200 bg-blue-50 p-4"><h4 class="mb-2 text-sm font-semibold text-blue-900">등록비 정보</h4> <div class="space-y-1 text-sm"><div class="flex justify-between"><span class="text-blue-700">등록비</span> <span class="font-medium text-blue-900"> </span></div> <!> <div><span class="text-blue-700">입금 제출일</span> <span class="font-medium text-blue-900"> </span></div></div></div></div> <div class="mt-6 flex gap-3"><button class="btn btn-outline flex-1">닫기</button> <button class="btn btn-error"><!> 거절</button> <button class="btn btn-primary flex-1"><!> 승인</button></div></div></div>'),Ha=u('<!> <main class="min-h-screen bg-gray-50 px-4 pt-4 pb-20"><div class="mb-6 rounded-lg bg-white p-4 shadow-sm"><h2 class="mb-2 text-sm font-medium text-gray-600">입금 대기 중</h2> <p class="text-3xl font-bold text-blue-600"> </p></div> <!></main> <!> <!>',1);function Ya(j,x){Xt(x,!0),oa();const b=va();let{pending_requests:G}=x.data,z=Lt(Yt(G)),gt=Lt(!1),r=Lt(null);const Gt=o=>{F(r,o,!0),F(gt,!0)},I=()=>{F(gt,!1),F(r,null)},Bt=async o=>{if(confirm("입금을 확인하고 이 공고를 승인하시겠습니까?"))try{await b.expert_requests.approve_payment(o),ft("success","공고가 승인되어 게시되었습니다."),F(z,e(z).filter(d=>d.id!==o),!0)}catch(d){console.error("승인 실패:",d),ft("error","승인 처리에 실패했습니다.")}},Pt=async o=>{const d=prompt("거절 사유를 입력해주세요 (선택):");if(d!==null&&confirm("이 공고를 거절하시겠습니까? 거절 후에는 취소할 수 없습니다."))try{await b.expert_requests.reject_payment(o,d.trim()||null),ft("success","공고가 거절되었습니다."),F(z,e(z).filter(c=>c.id!==o),!0)}catch(c){console.error("거절 실패:",c),ft("error","거절 처리에 실패했습니다.")}},J=o=>new Date(o).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});var Ht=Ha();ra(o=>{qt.title="사이드·풀타임 잡 관리 | 문"});var Mt=Ct(Ht);_a(Mt,{$$slots:{left:(o,d)=>{var c=pa();c.__click=[ca];var n=a(c);la(n,{size:24,get color(){return na.gray[600]}}),t(c),p(o,c)},center:(o,d)=>{var c=ua();c.textContent="사이드·풀타임 잡 관리",p(o,c)}}});var yt=s(Mt,2),ht=a(yt),St=s(a(ht),2),It=a(St);t(St),t(ht);var Jt=s(ht,2);{var Nt=o=>{var d=ma();p(o,d)},Ot=o=>{var d=wa();ta(d,21,()=>e(z),aa,(c,n)=>{var N=ha(),L=a(N),C=a(L),H=a(C),wt=a(H,!0);t(H),it(2),t(C);var nt=s(C,2);{var O=f=>{var m=xa(),h=a(m,!0);t(m),y(()=>i(h,e(n).category)),p(f,m)};k(nt,f=>{e(n).category&&f(O)})}t(L);var Q=s(L,2),T=s(a(Q),2),U=a(T),M=s(a(U),2),ot=a(M,!0);t(M),t(U);var V=s(U,2),vt=s(a(V),2),W=a(vt,!0);t(vt),t(V),t(T),t(Q);var B=s(Q,2),S=s(a(B),2),X=a(S),Y=s(a(X),2),kt=a(Y,!0);t(Y),t(X);var A=s(X,2),Z=s(a(A),2),jt=a(Z,!0);t(Z),t(A);var P=s(A,2),q=s(a(P),2),lt=a(q,!0);t(q),t(P);var dt=s(P,2);{var _t=f=>{var m=ba(),h=Ct(m),E=s(a(h),2),zt=a(E);t(E),t(h);var v=s(h,2),l=s(a(v),2),_=a(l);t(l),t(v),y((g,w)=>{i(zt,`₩${g??""}`),i(_,`-₩${w??""}`)},[()=>R(e(n).registration_amount||4900),()=>R(e(n).coupon_discount)]),p(f,m)};k(dt,f=>{e(n).coupon_discount&&e(n).coupon_discount>0&&f(_t)})}var ct=s(dt,2),pt=s(a(ct),2),$t=a(pt);t(pt),t(ct),t(S),t(B);var D=s(B,2),tt=a(D),at=s(a(tt),2),ut=a(at);t(at),t(tt);var K=s(tt,2),st=s(a(K),2),Rt=a(st,!0);t(st),t(K),t(D);var et=s(D,2),mt=a(et);mt.__click=[fa,Gt,n];var $=s(mt,2);$.__click=[ga,Bt,n];var xt=a($);Et(xt,{size:20}),it(),t($);var rt=s($,2);rt.__click=[ya,Pt,n];var bt=a(rt);Ft(bt,{size:20}),it(),t(rt),t(et),t(N),y((f,m,h)=>{i(wt,e(n).title),i(ot,e(n).users?.name||e(n).users?.handle),i(W,e(n).users?.email||"-"),i(kt,e(n).payment_info?.depositor_name||"-"),i(jt,e(n).payment_info?.bank||"-"),i(lt,e(n).payment_info?.account_number||"-"),i($t,`₩${f??""}`),i(ut,`₩${m??""}`),i(Rt,h)},[()=>R((e(n).registration_amount||4900)-(e(n).coupon_discount||0)),()=>R(e(n).reward_amount),()=>J(e(n).registration_paid_at)]),p(c,N)}),t(d),p(o,d)};k(Jt,o=>{e(z).length===0?o(Nt):o(Ot,!1)})}t(yt);var At=s(yt,2);{var Qt=o=>{var d=Pa();d.__click=I;var c=a(d);c.__click=[ka];var n=a(c),N=s(a(n),2);N.__click=I,t(n);var L=s(n,2),C=a(L),H=a(C),wt=a(H,!0);t(H);var nt=s(H,2),O=a(nt),Q=a(O,!0);t(O);var T=s(O,2),U=a(T,!0);t(T),t(nt),t(C);var M=s(C,2),ot=s(a(M),2),V=a(ot),vt=a(V);sa(vt,()=>e(r).description),t(V),t(ot),t(M);var W=s(M,2),B=a(W),S=s(a(B),2),X=a(S);t(S);var Y=s(S,2),kt=a(Y,!0);t(Y),t(B);var A=s(B,2),Z=s(a(A),2),jt=a(Z);t(Z),t(A),t(W);var P=s(W,2),q=s(a(P),2),lt=a(q);{var dt=v=>{var l=ja(),_=s(a(l),2),g=a(_,!0);t(_),t(l),y(w=>i(g,w),[()=>J(e(r).application_deadline)]),p(v,l)};k(lt,v=>{e(r).application_deadline&&v(dt)})}var _t=s(lt,2);{var ct=v=>{var l=$a(),_=s(a(l),2),g=a(_,!0);t(_),t(l),y(w=>i(g,w),[()=>J(e(r).work_start_date)]),p(v,l)};k(_t,v=>{e(r).work_start_date&&v(ct)})}var pt=s(_t,2);{var $t=v=>{var l=Ra(),_=s(a(l),2),g=a(_,!0);t(_),t(l),y(w=>i(g,w),[()=>J(e(r).work_end_date)]),p(v,l)};k(pt,v=>{e(r).work_end_date&&v($t)})}t(q),t(P);var D=s(P,2);{var tt=v=>{var l=za(),_=s(a(l),2),g=a(_,!0);t(_),t(l),y(()=>i(g,e(r).work_location)),p(v,l)};k(D,v=>{e(r).work_location&&v(tt)})}var at=s(D,2),ut=s(a(at),2),K=a(ut),st=s(a(K),2),Rt=a(st);t(st),t(K);var et=s(K,2);{var mt=v=>{var l=La(),_=Ct(l),g=s(a(_),2),w=a(g);t(g),t(_);var Dt=s(_,2),Kt=s(a(Dt),2),Ut=a(Kt);t(Kt),t(Dt),y((Vt,Wt)=>{i(w,`-₩${Vt??""}`),i(Ut,`₩${Wt??""}`)},[()=>R(e(r).coupon_discount),()=>R((e(r).registration_amount||4900)-e(r).coupon_discount)]),p(v,l)};k(et,v=>{e(r).coupon_discount&&e(r).coupon_discount>0&&v(mt)})}var $=s(et,2),xt=s(a($),2),rt=a(xt,!0);t(xt),t($),t(ut),t(at),t(L);var bt=s(L,2),f=a(bt);f.__click=I;var m=s(f,2);m.__click=[Ca,Pt,r,I];var h=a(m);Ft(h,{size:20}),it(),t(m);var E=s(m,2);E.__click=[Ba,Bt,r,I];var zt=a(E);Et(zt,{size:20}),it(),t(E),t(bt),t(c),t(d),y((v,l,_)=>{i(wt,e(r).title),i(Q,e(r).category),i(U,e(r).job_type==="sidejob"?"사이드잡":"풀타임"),i(X,`₩${v??""}`),i(kt,e(r).price_unit==="per_project"?"프로젝트당":e(r).price_unit==="per_hour"?"시간당":"월"),i(jt,`${e(r).max_applicants??""}명`),i(Rt,`₩${l??""}`),ia($,1,`flex justify-between ${e(r).coupon_discount?"":"border-t border-blue-200 pt-1"}`),i(rt,_)},[()=>R(e(r).reward_amount),()=>R(e(r).registration_amount||4900),()=>J(e(r).registration_paid_at)]),p(o,d)};k(At,o=>{e(gt)&&e(r)&&o(Qt)})}var Tt=s(At,2);da(Tt,{}),y(()=>i(It,`${e(z).length??""}건`)),p(j,Ht),Zt()}ea(["click"]);export{Ya as component};
