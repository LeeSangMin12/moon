import"../chunks/CWj6FrbW.js";import{i as B,s as H,j as L,t as n,f as u,g as r,k as R,$ as j,l as v,m as z,r as m,n as s,e as G,o as S}from"../chunks/BxrbYPPH.js";import{d as V,h as q}from"../chunks/DKpueC4a.js";import{i as D}from"../chunks/C_-0o-f2.js";import{e as E,i as F}from"../chunks/n-s4RcA1.js";import{g as I}from"../chunks/DOeRUQ82.js";import"../chunks/69_IOA4Y.js";import{R as J}from"../chunks/DgJjuvVc.js";import{H as K}from"../chunks/BezDMT-k.js";import{P as M,c as N}from"../chunks/Dlgnc5bw.js";import{c as O}from"../chunks/Dcrl4MPd.js";import{g as Q,a as T}from"../chunks/C6eE29Wt.js";var U=n('<meta name="description" content="내가 북마크한 게시물 목록을 한눈에 확인하고, 관심 있는 콘텐츠를 쉽게 관리">'),W=(h,i)=>I(`/@${i.handle}/accounts`),X=n('<div slot="left"><button><!></button></div>'),Y=n('<h1 slot="center" class="font-semibold">북마크</h1>'),Z=n('<div class="mt-4"><!></div>'),oo=n("<!> <main></main>",1);function vo(h,i){B(i,!0);const c=Q(),b=T();let{bookmarks:$}=i.data,d=H(L($));const x=async({gift_content:o,gift_moon_point:a,parent_comment_id:t,post_id:e})=>{await b.post_comments.insert({post_id:e,user_id:c.id,content:o,parent_comment_id:t,gift_moon_point:a})},{handle_bookmark_changed:P,handle_vote_changed:y}=N(()=>s(d).map(o=>o.post).filter(Boolean),o=>{S(d,s(d).map(a=>{const t=o.find(e=>e.id===a.post?.id);return t?{...a,post:t}:a}),!0)},c),C=P,w=y;var f=oo();q(o=>{var a=U();j.title="북마크 | 문",r(o,a)});var g=u(f);K(g,{$$slots:{left:(o,a)=>{var t=X(),e=v(t);e.__click=[W,c];var _=v(e);J(_,{size:24,get color(){return O.gray[800]}}),m(e),m(t),r(o,t)},center:(o,a)=>{var t=Y();r(o,t)}}});var k=z(g,2);E(k,21,()=>s(d),F,(o,a)=>{var t=G(),e=u(t);{var _=p=>{var l=Z(),A=v(l);M(A,{get post(){return s(a).post},onGiftCommentAdded:x,onBookmarkChanged:C,onVoteChanged:w}),m(l),r(p,l)};D(e,p=>{s(a).post&&p(_)})}r(o,t)}),m(k),r(h,f),R()}V(["click"]);export{vo as component};
